<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Git Principle | Waiting For You</title>
<meta name="keywords" content="">
<meta name="description" content="Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。">
<meta name="author" content="WFUing">
<link rel="canonical" href="https://WFUing.github.io/post/tech/devoops/git/git-principle/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.078343916625d121842bb25d5797d26510dec739246c5291e7aa1c8bdfed3a34.css" integrity="sha256-B4NDkWYl0SGEK7JdV5fSZRDexzkkbFKR56oci9/tOjQ=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://WFUing.github.io/img/logo.gif">
<link rel="apple-touch-icon" href="https://WFUing.github.io/logo.gif">
<link rel="mask-icon" href="https://WFUing.github.io/logo.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
    processEscapes: true,
    processEnvironments: true,
    autoload: {
      color: [],
      colorv2: ['color']
    },
    packages: {'[+]': ['noerrors']}
  },
  options: {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/noerrors']
  }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>
<meta property="og:title" content="Git Principle" />
<meta property="og:description" content="Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://WFUing.github.io/post/tech/devoops/git/git-principle/" /><meta property="og:image" content="https://WFUing.github.io/post/tech/devoops/git/git-principle/feature.png"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-10-19T20:58:09+08:00" />
<meta property="article:modified_time" content="2023-10-19T20:58:09+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://WFUing.github.io/post/tech/devoops/git/git-principle/feature.png"/>
<meta name="twitter:title" content="Git Principle"/>
<meta name="twitter:description" content="Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://WFUing.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Technology",
      "item": "https://WFUing.github.io/post/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "DevOops",
      "item": "https://WFUing.github.io/post/tech/devoops/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Git",
      "item": "https://WFUing.github.io/post/tech/devoops/git/"
    }, 
    {
      "@type": "ListItem",
      "position":  5 ,
      "name": "Git Principle",
      "item": "https://WFUing.github.io/post/tech/devoops/git/git-principle/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Git Principle",
  "name": "Git Principle",
  "description": "Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。",
  "keywords": [
    ""
  ],
  "articleBody": "Git 简介 Git 是什么 Git 是一个开源的分布式版本控制系统。\nGit 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。\n什么是版本控制 版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。\n集中化的版本控制系统 介绍分布式版本控制系统前，有必要先了解一下传统的集中式版本控制系统。\n集中化的版本控制系统，诸如 CVS，Subversion 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。\n这么做最显而易见的缺点是中央服务器的单点故障。如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。要是中央服务器的磁盘发生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢失整个项目的所有历史更改记录。\n分布式版本控制系统 分布式版本控制系统的客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际上都是一次对代码仓库的完整备份。\n为什么使用 Git Git 是分布式的。这是 Git 和其它非分布式的版本控制系统（例如 svn，cvs 等），最核心的区别。分布式带来以下好处：\n工作时不需要联网 - 首先，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件 A，你的同事也在他的电脑上改了文件 A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。 更加安全 集中式版本控制系统，一旦中央服务器出了问题，所有人都无法工作。 分布式版本控制系统，每个人电脑中都有完整的版本库，所以某人的机器挂了，并不影响其它人。 Git 的工作原理 个人认为，对于 Git 这个版本工具，再不了解原理的情况下，直接去学习命令行，可能会一头雾水。所以，本文特意将原理放在命令使用章节之前讲解。\n版本库 当你一个项目到本地或创建一个 git 项目，项目目录下会有一个隐藏的 .git 子目录。这个目录是 git 用来跟踪管理版本库的，如果不熟悉其工作机制，千万不要手动修改。\nhooks 目录：包含客户端或服务端的钩子脚本（hook scripts） info 目录：包含一个全局性排除（global exclude）文件， 用以放置那些不希望被记录在 .gitignore 文件中的忽略模式（ignored patterns）。 objects 目录：存储所有数据内容。 refs 目录：存储指向数据（分支、远程仓库和标签等）的提交对象的指针 HEAD 文件：指向目前被检出的分支。 index 文件保存暂存区信息。 config 文件：包含项目特有的配置选项。 description 文件：description 文件仅供 GitWeb 程序使用，我们无需关心。 哈希值 Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能构筑在 Git 底层，是 Git 的关键组件。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。\nGit 计算校验和的使用 SHA-1 哈希算法。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希值看起来是这样：\n1 24b9da6552252987aa493b52f8696cd6d3b00373 Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。\n文件状态 在 GIt 中，你的文件可能会处于三种状态之一：\n已修改（modified） - 已修改表示修改了文件，但还没保存到数据库中。 已暂存（staged） - 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。 已提交（committed） - 已提交表示数据已经安全的保存在本地数据库中。 工作区域 与文件状态对应的，不同状态的文件在 Git 中处于不同的工作区域。\n工作区（working） - 当你 git clone 一个项目到本地，相当于在本地克隆了项目的一个副本。工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。 暂存区（staging） - 暂存区是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作`‘索引’’，不过一般说法还是叫暂存区。 本地仓库（local） - 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 本地仓库。 远程仓库（remote） - 以上几个工作区都是在本地。为了让别人可以看到你的修改，你需要将你的更新推送到远程仓库。同理，如果你想同步别人的修改，你需要从远程仓库拉取更新。 分支管理 Git Flow Git Flow 应该是目前流传最广的 Git 分支管理策略。Git Flow 围绕的核心点是版本发布（release），它适用于迭代版本较长的项目。\n详细内容，可以参考这篇文章：Git 在团队中的最佳实践–如何正确使用 Git Flow\nGit Flow 常用分支：\nmaster - 主线分支 develop - 开发分支 feature - 特性分支 release - 发布分支 hotfix - 问题修复分支 Git Flow 工作流程\n2.1. 主干分支 主干分支有两个，它们是伴随着项目生命周期长期存在的分支。\nmaster - 这个分支对应发布到生产环境的代码。这个分支只允许从其他分支合入代码，不能在这个分支直接修改。所有在 master 分支上的 Commit 都应该打 Tag。 develop - 这个分支包含所有要发布到下一个 release 的代码，这个分支主要是从其他分支合入代码，比如 feature 分支。 2.2. feature 分支 这个分支主要是用来开发一个新的功能，一旦开发完成，我们合并回 develop 分支进入下一个 release。feature 分支开发结束后，必须合并回 develop 分支, 合并完分支后一般会删点这个 feature 分支，但是我们也可以保留。\n2.3. release 分支 release 分支基于 develop 分支创建，创建后，我们可以在这个 release 分支上进行测试，修复 Bug 等工作。同时，其它开发人员可以基于它开发新的 feature (记住：一旦创建了 release 分支之后不要从 develop 分支上合并新的改动到 release 分支)。\n发布 release 分支时，合并 release 到 master 和 develop， 同时在 master 分支上打个 Tag 记住 release 版本号，然后可以删除 release 分支了。\n2.4. hotfix 分支 当出现线上 bug 时，也意味着 master 存在 Bug。这时，我们需要基于 master 创建一个 hotfix 分支，在此分支上完成 bug 修复。修复后，我们应该将此分支合并回 master 和 develop 分支，同时在 master 上打一个 tag。所以，hotfix 的改动会进入下一个 release。\n2.5. 如何应用 Git Flow 在实际开发中，如何具体落地 Git Flow 流程呢？\ngit 提供了 git flow 命令来手动管理，但是比较麻烦，所以还是建议使用 Git Flow 的 GUI 工具。比如：SourceTree、VScode 的 GitFlow 插件、Intellij 的 GitFlow 插件等。\n想了解更详细的 Git Flow 介绍，可以参考：\nA Successful Git Branching Model\nGit 在团队中的最佳实践–如何正确使用 Git Flow\nGithub Flow 对于简单且迭代频繁的项目来说，Git Flow 可能有些太复杂了。这时，可以考虑 Github Flow。\n在 Github Flow 策略中，所有分支都是基于 master 创建。在 Feature 或 Bugfix 分支中完成工作后，将其合入 master，然后继续迭代。\n想了解更详细的 Github Flow 介绍，可以参考：GitHub Flow\nGit Commit 规范 Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。\n好的 Commit message 可以让人一眼就明白提交者修改了什么内容，有什么影响；而不好的 Commit message 写了和没写一样，甚至还可能误导别人。\n先来看下图中不好的 Commit message 范例，从提交信息完全看不出来修改了什么。\n再来一张较好的 Commit message 范例，每次提交的是什么内容，做了什么一目了然。\nCommit message 的作用 从前面，我们不难看出，完善的 Commit message 非常有利于项目维护。即时是个人维护的项目，时间久了，可能也会忘记当初自己改了什么。\nCommit message 的作用还不仅仅是理解历史信息，它的主要作用如下：\n（1）提供易于理解的历史信息，方便检索\n（2）可以过滤某些 commit（比如文档改动），便于快速查找信息。\n（3）可以直接从 commit 生成 Change log。\nCommit message 的规范 开源社区有很多 Commit message 的规范，个人推荐使用 Angular Git Commit 规范，这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。\n它主要有以下组成部分：\n标题行：必填, 描述主要修改类型和内容 主题内容：描述为什么修改, 做了什么样的修改, 以及开发的思路等等 页脚注释：放 Breaking Changes 或 Closed Issues 常用的修改项\ntype：commit 的类型 feat：新特性 fix：修改问题 refactor：代码重构 docs：文档修改 style：代码格式修改, 注意不是 css 修改 test：测试用例修改 chore：其他修改, 比如构建流程, 依赖管理. scope：commit 影响的范围, 比如：route, component, utils, build… subject：commit 的概述 body：commit 具体修改内容, 可以分为多行 footer：一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接 生成 Change log 如果你的所有 Commit 都符合 Angular Git Commit 规范，那么发布新版本时，就可以用脚本自动生成 Change log。\n生成的文档包括以下三个部分。\nNew features Bug fixes Breaking changes. 每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。\nconventional-changelog 就是生成 Change log 的工具，运行下面的命令即可。\n1 2 3 $ npm install -g conventional-changelog $ cd my-project $ conventional-changelog -p angular -i CHANGELOG.md -w 上面命令不会覆盖以前的 Change log，只会在CHANGELOG.md的头部加上自从上次发布以来的变动。\n如果你想生成所有发布的 Change log，要改为运行下面的命令。\n1 $ conventional-changelog -p angular -i CHANGELOG.md -w -r 0 为了方便使用，可以将其写入package.json的scripts字段。\n1 2 3 4 5 { \"scripts\": { \"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -w -r 0\" } } 以后，直接运行下面的命令即可。\n1 $ npm run changelog Git 奇技淫巧 生成 SSH 公钥 许多 Git 服务器都使用 SSH 公钥进行认证。 为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。 这个过程在所有操作系统上都是相似的。 首先，你需要确认自己是否已经拥有密钥。 默认情况下，用户的 SSH 密钥存储在其 ~/.ssh 目录下。 进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：\n1 2 3 4 $ cd ~/.ssh $ ls authorized_keys2 id_dsa known_hosts config id_dsa.pub 我们需要寻找一对以 id_dsa 或 id_rsa 命名的文件，其中一个带有 .pub 扩展名。 .pub 文件是你的公钥，另一个则是私钥。 如果找不到这样的文件（或者根本没有 .ssh 目录），你可以通过运行 ssh-keygen 程序来创建它们。在 Linux/Mac 系统中，ssh-keygen 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。\n1 2 3 4 5 6 7 8 9 10 $ ssh-keygen Generating public/private rsa key pair. Enter file in which to save the key (/home/schacon/.ssh/id_rsa): Created directory '/home/schacon/.ssh'. Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/schacon/.ssh/id_rsa. Your public key has been saved in /home/schacon/.ssh/id_rsa.pub. The key fingerprint is: d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local 首先 ssh-keygen 会确认密钥的存储位置（默认是 .ssh/id_rsa），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。\n现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员（假设服务器正在使用基于公钥的 SSH 验证设置）。 他们所要做的就是复制各自的 .pub 文件内容，并将其通过邮件发送。 公钥看起来是这样的：\n1 2 3 4 5 6 7 $ cat ~/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3 Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx NrRFi9wrf+M7Q== schacon@mylaptop.local 在你的 Github 账户中，依次点击 Settings \u003e SSH and GPG keys \u003e New SSH key\n然后，将上面生成的公钥内容粘贴到 Key 编辑框并保存。至此大功告成。\n后面，你在克隆你的 Github 项目时使用 SSH 方式即可。\n如果觉得我的讲解还不够细致，可以参考：adding-a-new-ssh-key-to-your-github-account\n使用 .gitignore 忽略不必提交内容 .gitignore 文件可能从字面含义也不难猜出：这个文件里配置的文件或目录，会自动被 git 所忽略，不纳入版本控制。\n在日常开发中，我们的项目经常会产生一些临时文件，如编译 Java 产生的 *.class 文件，又或是 IDE 自动生成的隐藏目录（Intellij 的 .idea 目录、Eclipse 的 .settings 目录等）等等。这些文件或目录实在没必要纳入版本管理。在这种场景下，你就需要用到 .gitignore 配置来过滤这些文件或目录。\n.gitignore 配置的规则很简单，也没什么可说的，看几个例子，自然就明白了。\n【示例】一份 Java 的 .gitignore\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # Compiled class file *.class # Log file *.log # BlueJ files *.ctxt # Mobile Tools for Java (J2ME) .mtj.tmp/ # Package Files # *.jar *.war *.nar *.ear *.zip *.tar.gz *.rar # virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml hs_err_pid* 【推荐】这里推荐一个 Github 的开源项目：gitignore，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 .gitignore 模板等等。\n使用 .gitattributes 解决 LF 和 CRLF 问题 你有没有在和多人协同开发时遇到过以下烦恼？\n开发者们分别使用不同的操作系统进行开发，有的人用 Windows，有的人用 Linux/MacOS。众所周知，不同操作系统默认的文件结尾行是不同的：在 Windows 上默认的是回车换行（Carriage Return Line Feed, CRLF），然而，在 Linux/MacOS 上则是换行（Line Feed, LF）。这就可能导致这种情况：明明文件内容一模一样，但是版本比对时仍然存在版本差异。\n那么如何解决这个问题呢？Git 提供了 .gitattributes 配置文件，它允许使用者指定由 git 使用的文件和路径的属性。\n在 Git 库中，一个普通文本文件的行尾默认是 LF。对于工作目录，除了 text 属性之外，还可以设置 eol 属性或 core.eol 配置变量。\n.gitattributes 文件中，可以用 text 属性指定某类文件或目录下的文件，控制它的行结束标准化。当一个文本文件被标准化时，它的行尾将在存储库中转换为 LF。要控制工作目录中使用的行结束风格，请使用单个文件的eol属性和所有文本文件的 core.eol 配置变量。\n【示例】一份 .gitattributes 示例\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 * text=auto eol=lf *.txt text *.java text *.scala text *.groovy text *.gradle text *.properties text # unix style *.sh text eol=lf # win style *.bat text eol=crlf # binary *.jar binary *.war binary *.zip binary *.tar binary *.tar.gz binary *.gz binary *.apk binary *.bin binary *.exe binary 【推荐】这里推荐一个 Github 的开源项目：gitignore，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 .gitignore 模板等等。\n同时提交代码到不同的远程仓库 如果，你在不同的 Git 远程仓库中维护同一个项目，你可能会有这样的需求：能不能一次提交，同时 push 到多个远程仓库中呢？\n这个可以有，解决方案如下：\n比如，我有一个 blog 项目，同时维护在 Github 和 Gitee 上。\n（1）首先，在 Github 和 Gitee 上配置本地的 ssh 公钥（如果是 Gitlab，也同样如此），这样中央仓库就能识别本地。\n生成 SSH 公钥的方法，请参考上文的 “生成 SSH 公钥” 章节。\n（2）进入 git 项目的隐藏目录 .git，打开 config 文件，参考下面配置进行编辑：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 [core] repositoryformatversion = 0 filemode = false bare = false logallrefupdates = true symlinks = false ignorecase = true [remote \"origin\"] url = git@github.com:dunwu/blog.git url = git@gitee.com:turnon/blog.git fetch = +refs/heads/*:refs/remotes/origin/* [branch \"master\"] remote = origin merge = refs/heads/master [user] name = dunwu email = forbreak@163.com 重点在于 remote \"origin\"，同时配置了两个 url。配置后，一旦触发 push 远程仓库的动作，就会同时推送提交记录到配置的远程仓库。\nGithub Issue 和 Gitlab Issue 开发软件，Bug 再所难免，出现问题不可怕，可怕的是放任不管；所以，优秀的软件项目，都应该管理好问题追踪。软件的使用者，在使用中，可能会遇到形形色色的问题，难以解决，需要向维护者寻求帮助。\n问题追踪如此重要，所以各种代码托管平台都会提供 Issue 维护机制，如 Github Issue 和 Gitlab Issue。\n如果一个项目的开源社区很活跃，在没有任何约束的前提下，提问肯定是五花八门的，让维护者难以招架。\n其实，提问也是一门艺术，如果提问者的问题长篇大幅，言不达意，让别人难以理解，就很难得到有效帮助。关于如何高效的提问，推荐参考 提问的智慧 这篇文章，作者整理的非常好。\n作为开发者，你不能期望所有提问者都是训练有素的提问者。所以，使用规范化的 Issue 模板来引导提问者提问，可以大大减轻开发者的负担。\nGithub Issue 模板 如何在 Github Issue 平台上创建 Issue 模板呢？方法如下：\n（1）在仓库根目录创建新目录 .github\n（2）在 .github 目录中添加 ISSUE_TEMPLATE 目录，在其中添加的 md 文件都会被 Github 自动识，并将其作为 issue 的默认模板。\n示例，下面是携程 apollo 的一个 Issue 模板，要求提问者填充 bug 描述、复现步骤、期望、截图、日志等细节。\n更多模板：Github issue_templates 模板\nGitlab Issue 模板 如何在 Gitlab Issue 平台上创建 Issue 模板呢？方法如下：\n（1）在仓库根目录创建新目录 .gitlab\n（2）在 .gitlab 目录中添加 issue_templates 目录，在其中添加的 md 文件都会被 Gitlab 自动识，并将其作为 issue 的默认模板。\n更多模板：Gitlab 官方 issue_templates 模板\nGit Hook 在执行提交代码（git commit），推送代码（git push）等行为时，我们可能希望做一些代码检查性工作，例如：代码 lint 检查、代码格式化等。当检查发现代码存在问题时，就拒绝代码提交，从而保证项目质量。\nGit 提供了 Git Hook 机制，允许使用者在特定的重要动作发生时触发自定义脚本。有两类钩子：客户端钩子和服务器端钩子。客户端钩子由诸如提交和合并等操作所触发调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。钩子都被存储在 Git 项目目录下的 .git/hooks 子目录中。Git 在这个目录下放置了一些示例，这些示例的名字都是以 .sample 结尾，如果想启用它们，得先移除这个后缀。\n常用的客户端钩子：\npre-commit 钩子：在提交信息前运行。 它用于检查即将提交的快照，例如，检查是否有所遗漏，确保测试运行，以及核查代码。 如果该钩子以非零值退出，Git 将放弃此次提交，不过你可以用 git commit --no-verify 来绕过这个环节。 你可以利用该钩子，来检查代码风格是否一致（运行类似 lint 的程序）、尾随空白字符是否存在（自带的钩子就是这么做的），或新方法的文档是否适当。 prepare-commit-msg 钩子：在启动提交信息编辑器之前，默认信息被创建之后运行。 它允许你编辑提交者所看到的默认信息。 该钩子接收一些选项：存有当前提交信息的文件的路径、提交类型和修补提交的提交的 SHA-1 校验。 它对一般的提交来说并没有什么用；然而对那些会自动产生默认信息的提交，如提交信息模板、合并提交、压缩提交和修订提交等非常实用。 你可以结合提交模板来使用它，动态地插入信息。 commit-msg 钩子：接收一个参数，此参数即上文提到的，存有当前提交信息的临时文件的路径。 如果该钩子脚本以非零值退出，Git 将放弃提交，因此，可以用来在提交通过前验证项目状态或提交信息。 在本章的最后一节，我们将展示如何使用该钩子来核对提交信息是否遵循指定的模板。 post-commit 钩子：在整个提交过程完成后运行。它不接收任何参数，但你可以很容易地通过运行 git log -1 HEAD 来获得最后一次的提交信息。 该钩子一般用于通知之类的事情。 pre-push 钩子：会在 git push 运行期间， 更新了远程引用但尚未传送对象时被调用。 它接受远程分支的名字和位置作为参数，同时从标准输入中读取一系列待更新的引用。 你可以在推送开始之前，用它验证对引用的更新操作（一个非零的退出码将终止推送过程）。 Javascript 应用 Git Hook 想在 JavaScript 应用中使用 Git Hook，推荐使用 husky ，可以很方便的编写钩子处理命令。\n使用方法很简单，先安装 husky\n1 npm i -D husky 然后，在 package.json 中添加配置：\n1 2 3 4 5 6 7 8 9 10 11 \"husky\": { \"hooks\": { \"pre-commit\": \"lint-staged\" } }, \"lint-staged\": { \"src/**/*.{js,vue}\": [ \"eslint --fix\", \"git add\" ] }, 以上配置的作用是，当提交代码前（ pre-commit ），先执行 lint-staged；\nlint-staged 中执行的动作是，对 src 目录的所有 js、vue 文件进行 eslint 检查，并尝试修复。如果修复后没有问题，就 git add 添加修改后的文件；如果修复失败，则拒绝提交代码。\n参考资料 官方资源 Git 官网 Git Github Github 官方教程 模板 gitignore 模板 - .gitignore 文件模板 gitattributes 模板 - .gitattributes 文件模板 github-cheat-sheet - git 命令简略图表 Git 教程 Learn Git branching - 交互式教程 Git 官方推荐教程 - Scott Chacon 的 Git 书。 git-flight-rules git-tips Git 中文教程 廖雪峰的 Git 教程 有关 git 的学习资源 文章 Git Cookbook Git 奇技淫巧 Git 风格指南 Git 在团队中的最佳实践–如何正确使用 Git Flow Commit message 和 Change log 编写指南 Git 工具 guis - Git 官网展示的客户端工具列表。 gogs - 极易搭建的自助 Git 服务。 gitflow - 应用 fit-flow 模型的工具。 firstaidgit.io 一个可搜索的最常被问到的 Git 的问题 git-extra-commands - 一堆有用的额外的 Git 脚本 git-extras - GIT 工具集 – repo summary, repl, changelog population, author commit percentages and more git-fire - git-fire 是一个 Git 插件，用于帮助在紧急情况下添加所有当前文件, 做提交(committing), 和推(push)到一个新分支(阻止合并冲突)。 git-tips - Git 小提示 git-town - 通用，高级 Git 工作流支持！ GUI 客户端 GitKraken - 豪华的 Git 客户端 Windows, Mac \u0026 Linux git-cola - 另外一个 Git 客户端 Windows \u0026 OS X GitUp - 一个新的 Git 客户端，在处理 Git 的复杂性上有自己的特点 gitx-dev - 图形化的 Git 客户端 OS X Source Tree - 免费的图形化 Git 客户端 Windows \u0026 OS X Tower - 图形化 Git 客户端 OS X(付费) git cheat sheet github-git-cheat-sheet ",
  "wordCount" : "1406",
  "inLanguage": "zh",
  "datePublished": "2023-10-19T20:58:09+08:00",
  "dateModified": "2023-10-19T20:58:09+08:00",
  "author":{
    "@type": "Person",
    "name": "WFUing"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://WFUing.github.io/post/tech/devoops/git/git-principle/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Waiting For You",
    "logo": {
      "@type": "ImageObject",
      "url": "https://WFUing.github.io/img/logo.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header"><nav class="nav">
    <div class="logo">
        <a style="color: rgb(218, 218, 219);" href="https://WFUing.github.io/" accesskey="h" title="Waiting For You (Alt + H)">Waiting For You</a>
        <div class="logo-switches">
            <button id="theme-toggle" accesskey="t" title="(Alt + T)" style="color: rgb(218, 218, 219);">
                <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
        </div>
    </div>
    <ul id="menu">
        <li>
            <a href="https://WFUing.github.io/search" title="SEARCH (Alt &#43; /)" accesskey=/>
                <span style="color: rgb(218, 218, 219);">SEARCH</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/" title="HOME">
                <span style="color: rgb(218, 218, 219);">HOME</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/post" title="BLOGS">
                <span style="color: rgb(218, 218, 219);">BLOGS</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/archives" title="ARCHIVE">
                <span style="color: rgb(218, 218, 219);">ARCHIVE</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/tags" title="TAGS">
                <span style="color: rgb(218, 218, 219);">TAGS</span>
            </a>
        </li>
    </ul>
</nav>
</header>


<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://WFUing.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/">Posts</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/tech/">Technology</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/tech/devoops/">DevOops</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/tech/devoops/git/">Git</a></div>
    <h1 class="post-title">
      Git Principle
    </h1>
    <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2023-10-19
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>1406字
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>7分钟
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>WFUing
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
            </span>
        </span>
    </span>
</span>
        &nbsp;|&nbsp;标签: &nbsp;
        <ul class="post-tags-meta">
        </ul>

        
        
        
        
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_page_pv">
            &nbsp;| 访问: <span id="busuanzi_value_page_pv"></span>
        </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#git-%e7%ae%80%e4%bb%8b" aria-label="Git 简介">Git 简介</a><ul>
                            
                    <li>
                        <a href="#git-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="Git 是什么">Git 是什么</a></li>
                    <li>
                        <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e7%89%88%e6%9c%ac%e6%8e%a7%e5%88%b6" aria-label="什么是版本控制">什么是版本控制</a><ul>
                            
                    <li>
                        <a href="#%e9%9b%86%e4%b8%ad%e5%8c%96%e7%9a%84%e7%89%88%e6%9c%ac%e6%8e%a7%e5%88%b6%e7%b3%bb%e7%bb%9f" aria-label="集中化的版本控制系统">集中化的版本控制系统</a></li>
                    <li>
                        <a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e7%89%88%e6%9c%ac%e6%8e%a7%e5%88%b6%e7%b3%bb%e7%bb%9f" aria-label="分布式版本控制系统">分布式版本控制系统</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bd%bf%e7%94%a8-git" aria-label="为什么使用 Git">为什么使用 Git</a></li>
                    <li>
                        <a href="#git-%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86" aria-label="Git 的工作原理">Git 的工作原理</a><ul>
                            
                    <li>
                        <a href="#%e7%89%88%e6%9c%ac%e5%ba%93" aria-label="版本库">版本库</a></li>
                    <li>
                        <a href="#%e5%93%88%e5%b8%8c%e5%80%bc" aria-label="哈希值">哈希值</a></li>
                    <li>
                        <a href="#%e6%96%87%e4%bb%b6%e7%8a%b6%e6%80%81" aria-label="文件状态">文件状态</a></li>
                    <li>
                        <a href="#%e5%b7%a5%e4%bd%9c%e5%8c%ba%e5%9f%9f" aria-label="工作区域">工作区域</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86" aria-label="分支管理">分支管理</a><ul>
                            
                    <li>
                        <a href="#git-flow" aria-label="Git Flow">Git Flow</a><ul>
                            
                    <li>
                        <a href="#21-%e4%b8%bb%e5%b9%b2%e5%88%86%e6%94%af" aria-label="2.1. 主干分支">2.1. 主干分支</a></li>
                    <li>
                        <a href="#22-feature-%e5%88%86%e6%94%af" aria-label="2.2. feature 分支">2.2. <code>feature</code> 分支</a></li>
                    <li>
                        <a href="#23-release-%e5%88%86%e6%94%af" aria-label="2.3. release 分支">2.3. <strong><code>release</code> 分支</strong></a></li>
                    <li>
                        <a href="#24-hotfix-%e5%88%86%e6%94%af" aria-label="2.4. hotfix 分支">2.4. <code>hotfix</code> 分支</a></li>
                    <li>
                        <a href="#25-%e5%a6%82%e4%bd%95%e5%ba%94%e7%94%a8-git-flow" aria-label="2.5. 如何应用 Git Flow">2.5. 如何应用 Git Flow</a></li></ul>
                    </li>
                    <li>
                        <a href="#github-flow" aria-label="Github Flow">Github Flow</a></li></ul>
                    </li>
                    <li>
                        <a href="#git-commit-%e8%a7%84%e8%8c%83" aria-label="Git Commit 规范">Git Commit 规范</a><ul>
                            
                    <li>
                        <a href="#commit-message-%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="Commit message 的作用">Commit message 的作用</a></li>
                    <li>
                        <a href="#commit-message-%e7%9a%84%e8%a7%84%e8%8c%83" aria-label="Commit message 的规范">Commit message 的规范</a></li>
                    <li>
                        <a href="#%e7%94%9f%e6%88%90-change-log" aria-label="生成 Change log">生成 Change log</a></li></ul>
                    </li>
                    <li>
                        <a href="#git-%e5%a5%87%e6%8a%80%e6%b7%ab%e5%b7%a7" aria-label="Git 奇技淫巧">Git 奇技淫巧</a><ul>
                            
                    <li>
                        <a href="#%e7%94%9f%e6%88%90-ssh-%e5%85%ac%e9%92%a5" aria-label="生成 SSH 公钥">生成 SSH 公钥</a></li>
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8-gitignore-%e5%bf%bd%e7%95%a5%e4%b8%8d%e5%bf%85%e6%8f%90%e4%ba%a4%e5%86%85%e5%ae%b9" aria-label="使用 .gitignore 忽略不必提交内容">使用 .gitignore 忽略不必提交内容</a></li>
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8-gitattributes-%e8%a7%a3%e5%86%b3-lf-%e5%92%8c-crlf-%e9%97%ae%e9%a2%98" aria-label="使用 .gitattributes 解决 LF 和 CRLF 问题">使用 .gitattributes 解决 LF 和 CRLF 问题</a></li>
                    <li>
                        <a href="#%e5%90%8c%e6%97%b6%e6%8f%90%e4%ba%a4%e4%bb%a3%e7%a0%81%e5%88%b0%e4%b8%8d%e5%90%8c%e7%9a%84%e8%bf%9c%e7%a8%8b%e4%bb%93%e5%ba%93" aria-label="同时提交代码到不同的远程仓库">同时提交代码到不同的远程仓库</a></li>
                    <li>
                        <a href="#github-issue-%e5%92%8c-gitlab-issue" aria-label="Github Issue 和 Gitlab Issue">Github Issue 和 Gitlab Issue</a><ul>
                            
                    <li>
                        <a href="#github-issue-%e6%a8%a1%e6%9d%bf" aria-label="Github Issue 模板">Github Issue 模板</a></li>
                    <li>
                        <a href="#gitlab-issue-%e6%a8%a1%e6%9d%bf" aria-label="Gitlab Issue 模板">Gitlab Issue 模板</a></li></ul>
                    </li>
                    <li>
                        <a href="#git-hook" aria-label="Git Hook">Git Hook</a><ul>
                            
                    <li>
                        <a href="#javascript-%e5%ba%94%e7%94%a8-git-hook" aria-label="Javascript 应用 Git Hook">Javascript 应用 Git Hook</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" aria-label="参考资料">参考资料</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h2 id="git-简介">Git 简介<a hidden class="anchor" aria-hidden="true" href="#git-简介">#</a></h2>
<h3 id="git-是什么">Git 是什么<a hidden class="anchor" aria-hidden="true" href="#git-是什么">#</a></h3>
<p>Git 是一个开源的分布式版本控制系统。</p>
<p>Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。 从概念上来说，其它大部分系统以文件变更列表的方式存储信息，而 Git 是把数据看作是对小型文件系统的一系列快照。</p>
<h3 id="什么是版本控制">什么是版本控制<a hidden class="anchor" aria-hidden="true" href="#什么是版本控制">#</a></h3>
<p>版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p>
<h4 id="集中化的版本控制系统">集中化的版本控制系统<a hidden class="anchor" aria-hidden="true" href="#集中化的版本控制系统">#</a></h4>
<p>介绍分布式版本控制系统前，有必要先了解一下传统的集中式版本控制系统。</p>
<p><strong>集中化的版本控制系统</strong>，诸如 CVS，Subversion 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。</p>
<p>这么做最显而易见的缺点是中央服务器的单点故障。如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。要是中央服务器的磁盘发生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢失整个项目的所有历史更改记录。</p>
<center><figure>
    <img loading="lazy" src="./central-vcs-server.png" width="50%"/> 
</figure>
</center>
<h4 id="分布式版本控制系统">分布式版本控制系统<a hidden class="anchor" aria-hidden="true" href="#分布式版本控制系统">#</a></h4>
<p><strong>分布式版本控制系统</strong>的客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。因为每一次的提取操作，实际上都是一次对代码仓库的完整备份。</p>
<center><figure>
    <img loading="lazy" src="./local-to-center.png" width="60%"/> 
</figure>
</center>
<h3 id="为什么使用-git">为什么使用 Git<a hidden class="anchor" aria-hidden="true" href="#为什么使用-git">#</a></h3>
<p>Git 是分布式的。这是 Git 和其它非分布式的版本控制系统（例如 svn，cvs 等），最核心的区别。分布式带来以下好处：</p>
<ul>
<li><strong>工作时不需要联网</strong> - 首先，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件 A，你的同事也在他的电脑上改了文件 A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。</li>
<li><strong>更加安全</strong>
<ul>
<li>集中式版本控制系统，一旦中央服务器出了问题，所有人都无法工作。</li>
<li>分布式版本控制系统，每个人电脑中都有完整的版本库，所以某人的机器挂了，并不影响其它人。</li>
</ul>
</li>
</ul>
<h3 id="git-的工作原理">Git 的工作原理<a hidden class="anchor" aria-hidden="true" href="#git-的工作原理">#</a></h3>
<p>个人认为，对于 Git 这个版本工具，再不了解原理的情况下，直接去学习命令行，可能会一头雾水。所以，本文特意将原理放在命令使用章节之前讲解。</p>
<h4 id="版本库">版本库<a hidden class="anchor" aria-hidden="true" href="#版本库">#</a></h4>
<p>当你一个项目到本地或创建一个 git 项目，项目目录下会有一个隐藏的 <code>.git</code> 子目录。这个目录是 git 用来跟踪管理版本库的，如果不熟悉其工作机制，千万不要手动修改。</p>
<figure>
    <img loading="lazy" src="./git-local.png" width="80%"/> 
</figure>

<ul>
<li><code>hooks</code> 目录：包含客户端或服务端的钩子脚本（hook scripts）</li>
<li><code>info</code> 目录：包含一个全局性排除（global exclude）文件， 用以放置那些不希望被记录在 <code>.gitignore</code> 文件中的忽略模式（ignored patterns）。</li>
<li><code>objects</code> 目录：存储所有数据内容。</li>
<li><code>refs</code> 目录：存储指向数据（分支、远程仓库和标签等）的提交对象的指针</li>
<li><code>HEAD</code> 文件：指向目前被检出的分支。</li>
<li><code>index</code> 文件保存暂存区信息。</li>
<li><code>config</code> 文件：包含项目特有的配置选项。</li>
<li><code>description</code> 文件：<code>description</code> 文件仅供 GitWeb 程序使用，我们无需关心。</li>
</ul>
<h4 id="哈希值">哈希值<a hidden class="anchor" aria-hidden="true" href="#哈希值">#</a></h4>
<p>Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能构筑在 Git 底层，是 Git 的关键组件。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。</p>
<p>Git 计算校验和的使用 SHA-1 哈希算法。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希值看起来是这样：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">24b9da6552252987aa493b52f8696cd6d3b00373
</span></span></code></pre></td></tr></table>
</div>
</div><p>Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。</p>
<h4 id="文件状态">文件状态<a hidden class="anchor" aria-hidden="true" href="#文件状态">#</a></h4>
<p>在 GIt 中，你的文件可能会处于三种状态之一：</p>
<ul>
<li><strong>已修改（modified）</strong> - 已修改表示修改了文件，但还没保存到数据库中。</li>
<li><strong>已暂存（staged）</strong> - 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。</li>
<li><strong>已提交（committed）</strong> - 已提交表示数据已经安全的保存在本地数据库中。</li>
</ul>
<h4 id="工作区域">工作区域<a hidden class="anchor" aria-hidden="true" href="#工作区域">#</a></h4>
<p>与文件状态对应的，不同状态的文件在 Git 中处于不同的工作区域。</p>
<ul>
<li><strong>工作区（working）</strong> - 当你 <code>git clone</code> 一个项目到本地，相当于在本地克隆了项目的一个副本。工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。</li>
<li><strong>暂存区（staging）</strong> - 暂存区是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作`‘索引’&rsquo;，不过一般说法还是叫暂存区。</li>
<li><strong>本地仓库（local）</strong> - 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 本地仓库。</li>
<li><strong>远程仓库（remote）</strong> - 以上几个工作区都是在本地。为了让别人可以看到你的修改，你需要将你的更新推送到远程仓库。同理，如果你想同步别人的修改，你需要从远程仓库拉取更新。</li>
</ul>
<center><figure>
    <img loading="lazy" src="./git-theory.png" width="80%"/> 
</figure>
</center>
<h2 id="分支管理">分支管理<a hidden class="anchor" aria-hidden="true" href="#分支管理">#</a></h2>
<h3 id="git-flow">Git Flow<a hidden class="anchor" aria-hidden="true" href="#git-flow">#</a></h3>
<p>Git Flow 应该是目前流传最广的 Git 分支管理策略。Git Flow 围绕的核心点是版本发布（release），它适用于迭代版本较长的项目。</p>
<center><figure>
    <img loading="lazy" src="./git-flow.png" width="80%"/> 
</figure>
</center>
<blockquote>
<p>详细内容，可以参考这篇文章：<a href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践&ndash;如何正确使用 Git Flow</a></p>
</blockquote>
<p>Git Flow 常用分支：</p>
<ul>
<li><strong><code>master</code></strong> - 主线分支</li>
<li><strong><code>develop</code></strong> - 开发分支</li>
<li><strong><code>feature</code></strong> - 特性分支</li>
<li><strong><code>release</code></strong> - 发布分支</li>
<li><strong><code>hotfix</code></strong> - 问题修复分支</li>
</ul>
<p>Git Flow 工作流程</p>
<h4 id="21-主干分支">2.1. 主干分支<a hidden class="anchor" aria-hidden="true" href="#21-主干分支">#</a></h4>
<center><figure>
    <img loading="lazy" src="./master.png" width="50%"/> 
</figure>
</center>
<p>主干分支有两个，它们是伴随着项目生命周期长期存在的分支。</p>
<ul>
<li><code>master</code> - 这个分支对应发布到生产环境的代码。这个分支<strong>只允许从其他分支合入代码</strong>，不能在这个分支直接修改。所有在 master 分支上的 Commit 都应该打 Tag。</li>
<li><code>develop</code> - 这个分支包含所有要发布到下一个 release 的代码，这个分支<strong>主要是从其他分支合入代码</strong>，比如 feature 分支。</li>
</ul>
<h4 id="22-feature-分支">2.2. <code>feature</code> 分支<a hidden class="anchor" aria-hidden="true" href="#22-feature-分支">#</a></h4>
<p>这个分支主要是用来开发一个新的功能，一旦开发完成，我们合并回 develop 分支进入下一个 release。feature 分支开发结束后，必须合并回 develop 分支, 合并完分支后一般会删点这个 feature 分支，但是我们也可以保留。</p>
<center><figure>
    <img loading="lazy" src="./feature.png" width="20%"/> 
</figure>
</center>
<h4 id="23-release-分支">2.3. <strong><code>release</code> 分支</strong><a hidden class="anchor" aria-hidden="true" href="#23-release-分支">#</a></h4>
<p>release 分支基于 develop 分支创建，创建后，我们可以在这个 release 分支上进行测试，修复 Bug 等工作。同时，其它开发人员可以基于它开发新的 feature (记住：一旦创建了 release 分支之后不要从 develop 分支上合并新的改动到 release 分支)。</p>
<p>发布 release 分支时，合并 release 到 master 和 develop， 同时在 master 分支上打个 Tag 记住 release 版本号，然后可以删除 release 分支了。</p>
<h4 id="24-hotfix-分支">2.4. <code>hotfix</code> 分支<a hidden class="anchor" aria-hidden="true" href="#24-hotfix-分支">#</a></h4>
<p>当出现线上 bug 时，也意味着 master 存在 Bug。这时，我们需要基于 master 创建一个 hotfix 分支，在此分支上完成 bug 修复。修复后，我们应该将此分支合并回 master 和 develop 分支，同时在 master 上打一个 tag。所以，hotfix 的改动会进入下一个 release。</p>
<center><figure>
    <img loading="lazy" src="./hotfix.png" width="50%"/> 
</figure>
</center>
<h4 id="25-如何应用-git-flow">2.5. 如何应用 Git Flow<a hidden class="anchor" aria-hidden="true" href="#25-如何应用-git-flow">#</a></h4>
<p>在实际开发中，如何具体落地 Git Flow 流程呢？</p>
<p>git 提供了 <code>git flow</code> 命令来手动管理，但是比较麻烦，所以还是建议使用 Git Flow 的 GUI 工具。比如：<a href="https://www.sourcetreeapp.com/">SourceTree</a>、<a href="https://marketplace.visualstudio.com/items?itemName=vs-publisher-57624.GitFlowforVisualStudio">VScode 的 GitFlow 插件</a>、Intellij 的 GitFlow 插件等。</p>
<blockquote>
<p>想了解更详细的 Git Flow 介绍，可以参考：</p>
<p><a href="http://nvie.com/posts/a-successful-git-branching-model/">A Successful Git Branching Model</a></p>
<p><a href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践&ndash;如何正确使用 Git Flow</a></p>
</blockquote>
<h3 id="github-flow">Github Flow<a hidden class="anchor" aria-hidden="true" href="#github-flow">#</a></h3>
<p>对于简单且迭代频繁的项目来说，Git Flow 可能有些太复杂了。这时，可以考虑 Github Flow。</p>
<p>在 Github Flow 策略中，所有分支都是基于 master 创建。在 Feature 或 Bugfix 分支中完成工作后，将其合入 master，然后继续迭代。</p>
<center><figure>
    <img loading="lazy" src="./github-flow.png" width="100%"/> 
</figure>
</center>
<blockquote>
<p>想了解更详细的 Github Flow 介绍，可以参考：<a href="http://scottchacon.com/2011/08/31/github-flow.html">GitHub Flow</a></p>
</blockquote>
<h2 id="git-commit-规范">Git Commit 规范<a hidden class="anchor" aria-hidden="true" href="#git-commit-规范">#</a></h2>
<p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p>
<p>好的 Commit message 可以让人一眼就明白提交者修改了什么内容，有什么影响；而不好的 Commit message 写了和没写一样，甚至还可能误导别人。</p>
<p>先来看下图中不好的 Commit message 范例，从提交信息完全看不出来修改了什么。</p>
<center><figure>
    <img loading="lazy" src="./bad-commit.png" width="50%"/> 
</figure>
</center>
<p>再来一张较好的 Commit message 范例，每次提交的是什么内容，做了什么一目了然。</p>
<center><figure>
    <img loading="lazy" src="./good-commit.png" width="100%"/> 
</figure>
</center>
<h3 id="commit-message-的作用">Commit message 的作用<a hidden class="anchor" aria-hidden="true" href="#commit-message-的作用">#</a></h3>
<p>从前面，我们不难看出，完善的 Commit message 非常有利于项目维护。即时是个人维护的项目，时间久了，可能也会忘记当初自己改了什么。</p>
<p>Commit message 的作用还不仅仅是理解历史信息，它的主要作用如下：</p>
<p>（1）提供易于理解的历史信息，方便检索</p>
<p>（2）可以过滤某些 commit（比如文档改动），便于快速查找信息。</p>
<p>（3）可以直接从 commit 生成 Change log。</p>
<h3 id="commit-message-的规范">Commit message 的规范<a hidden class="anchor" aria-hidden="true" href="#commit-message-的规范">#</a></h3>
<p>开源社区有很多 Commit message 的规范，个人推荐使用 <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a>，这是目前使用最广的写法，比较合理和系统化，并且有配套的工具。</p>
<p>它主要有以下组成部分：</p>
<ul>
<li>标题行：必填, 描述主要修改类型和内容</li>
<li>主题内容：描述为什么修改, 做了什么样的修改, 以及开发的思路等等</li>
<li>页脚注释：放 Breaking Changes 或 Closed Issues</li>
</ul>
<p>常用的修改项</p>
<ul>
<li><code>type</code>：commit 的类型</li>
<li><code>feat</code>：新特性</li>
<li><code>fix</code>：修改问题</li>
<li><code>refactor</code>：代码重构</li>
<li><code>docs</code>：文档修改</li>
<li><code>style</code>：代码格式修改, 注意不是 css 修改</li>
<li><code>test</code>：测试用例修改</li>
<li><code>chore</code>：其他修改, 比如构建流程, 依赖管理.</li>
<li><code>scope</code>：commit 影响的范围, 比如：route, component, utils, build&hellip;</li>
<li><code>subject</code>：commit 的概述</li>
<li><code>body</code>：commit 具体修改内容, 可以分为多行</li>
<li><code>footer</code>：一些备注, 通常是 BREAKING CHANGE 或修复的 bug 的链接</li>
</ul>
<h3 id="生成-change-log">生成 Change log<a hidden class="anchor" aria-hidden="true" href="#生成-change-log">#</a></h3>
<p>如果你的所有 Commit 都符合 <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0">Angular Git Commit 规范</a>，那么发布新版本时，就可以用脚本自动生成 Change log。</p>
<p>生成的文档包括以下三个部分。</p>
<ul>
<li>New features</li>
<li>Bug fixes</li>
<li>Breaking changes.</li>
</ul>
<p>每个部分都会罗列相关的 commit ，并且有指向这些 commit 的链接。当然，生成的文档允许手动修改，所以发布前，你还可以添加其他内容。</p>
<p><a href="https://github.com/ajoslin/conventional-changelog">conventional-changelog</a> 就是生成 Change log 的工具，运行下面的命令即可。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm install -g conventional-changelog
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> my-project
</span></span><span class="line"><span class="cl">$ conventional-changelog -p angular -i CHANGELOG.md -w
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面命令不会覆盖以前的 Change log，只会在<code>CHANGELOG.md</code>的头部加上自从上次发布以来的变动。</p>
<p>如果你想生成所有发布的 Change log，要改为运行下面的命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ conventional-changelog -p angular -i CHANGELOG.md -w -r <span class="m">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>为了方便使用，可以将其写入<code>package.json</code>的<code>scripts</code>字段。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;changelog&#34;</span><span class="o">:</span> <span class="s2">&#34;conventional-changelog -p angular -i CHANGELOG.md -w -r 0&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>以后，直接运行下面的命令即可。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm run changelog
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="git-奇技淫巧">Git 奇技淫巧<a hidden class="anchor" aria-hidden="true" href="#git-奇技淫巧">#</a></h2>
<h3 id="生成-ssh-公钥">生成 SSH 公钥<a hidden class="anchor" aria-hidden="true" href="#生成-ssh-公钥">#</a></h3>
<p>许多 Git 服务器都使用 SSH 公钥进行认证。 为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。 这个过程在所有操作系统上都是相似的。 首先，你需要确认自己是否已经拥有密钥。 默认情况下，用户的 SSH 密钥存储在其 <code>~/.ssh</code> 目录下。 进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ <span class="nb">cd</span> ~/.ssh
</span></span><span class="line"><span class="cl">$ ls
</span></span><span class="line"><span class="cl">authorized_keys2  id_dsa       known_hosts
</span></span><span class="line"><span class="cl">config            id_dsa.pub
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们需要寻找一对以 <code>id_dsa</code> 或 <code>id_rsa</code> 命名的文件，其中一个带有 <code>.pub</code> 扩展名。 <code>.pub</code> 文件是你的公钥，另一个则是私钥。 如果找不到这样的文件（或者根本没有 <code>.ssh</code> 目录），你可以通过运行 <code>ssh-keygen</code> 程序来创建它们。在 Linux/Mac 系统中，<code>ssh-keygen</code> 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ssh-keygen
</span></span><span class="line"><span class="cl">Generating public/private rsa key pair.
</span></span><span class="line"><span class="cl">Enter file in which to save the key <span class="o">(</span>/home/schacon/.ssh/id_rsa<span class="o">)</span>:
</span></span><span class="line"><span class="cl">Created directory <span class="s1">&#39;/home/schacon/.ssh&#39;</span>.
</span></span><span class="line"><span class="cl">Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>:
</span></span><span class="line"><span class="cl">Enter same passphrase again:
</span></span><span class="line"><span class="cl">Your identification has been saved in /home/schacon/.ssh/id_rsa.
</span></span><span class="line"><span class="cl">Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
</span></span><span class="line"><span class="cl">The key fingerprint is:
</span></span><span class="line"><span class="cl">d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local
</span></span></code></pre></td></tr></table>
</div>
</div><p>首先 <code>ssh-keygen</code> 会确认密钥的存储位置（默认是 <code>.ssh/id_rsa</code>），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。</p>
<p>现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员（假设服务器正在使用基于公钥的 SSH 验证设置）。 他们所要做的就是复制各自的 <code>.pub</code> 文件内容，并将其通过邮件发送。 公钥看起来是这样的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ cat ~/.ssh/id_rsa.pub
</span></span><span class="line"><span class="cl">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
</span></span><span class="line"><span class="cl">GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
</span></span><span class="line"><span class="cl">Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
</span></span><span class="line"><span class="cl">t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
</span></span><span class="line"><span class="cl">mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
</span></span><span class="line"><span class="cl">NrRFi9wrf+M7Q<span class="o">==</span> schacon@mylaptop.local
</span></span></code></pre></td></tr></table>
</div>
</div><p>在你的 Github 账户中，依次点击 <strong>Settings</strong> &gt; <strong>SSH and GPG keys</strong> &gt; <strong>New SSH key</strong></p>
<p>然后，将上面生成的公钥内容粘贴到 <code>Key</code> 编辑框并保存。至此大功告成。</p>
<p>后面，你在克隆你的 Github 项目时使用 SSH 方式即可。</p>
<p>如果觉得我的讲解还不够细致，可以参考：<a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/">adding-a-new-ssh-key-to-your-github-account</a></p>
<h3 id="使用-gitignore-忽略不必提交内容">使用 .gitignore 忽略不必提交内容<a hidden class="anchor" aria-hidden="true" href="#使用-gitignore-忽略不必提交内容">#</a></h3>
<p><code>.gitignore</code> 文件可能从字面含义也不难猜出：这个文件里配置的文件或目录，会自动被 git 所忽略，不纳入版本控制。</p>
<p>在日常开发中，我们的项目经常会产生一些临时文件，如编译 Java 产生的 <code>*.class</code> 文件，又或是 IDE 自动生成的隐藏目录（Intellij 的 <code>.idea</code> 目录、Eclipse 的 <code>.settings</code> 目录等）等等。这些文件或目录实在没必要纳入版本管理。在这种场景下，你就需要用到 <code>.gitignore</code> 配置来过滤这些文件或目录。</p>
<p><code>.gitignore</code> 配置的规则很简单，也没什么可说的，看几个例子，自然就明白了。</p>
<p>【示例】一份 Java 的 .gitignore</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="c1"># Compiled class file</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="k">class</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Log file</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">log</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># BlueJ files</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">ctxt</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Mobile Tools for Java (J2ME)</span>
</span></span><span class="line"><span class="cl"><span class="o">.</span><span class="n">mtj</span><span class="o">.</span><span class="n">tmp</span><span class="o">/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Package Files #</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">jar</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">war</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">nar</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">ear</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">zip</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></span><span class="line"><span class="cl"><span class="o">*.</span><span class="n">rar</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml</span>
</span></span><span class="line"><span class="cl"><span class="n">hs_err_pid</span><span class="o">*</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>【推荐】这里推荐一个 Github 的开源项目：<a href="https://github.com/github/gitignore">gitignore</a>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p>
</blockquote>
<h3 id="使用-gitattributes-解决-lf-和-crlf-问题">使用 .gitattributes 解决 LF 和 CRLF 问题<a hidden class="anchor" aria-hidden="true" href="#使用-gitattributes-解决-lf-和-crlf-问题">#</a></h3>
<p>你有没有在和多人协同开发时遇到过以下烦恼？</p>
<p>开发者们分别使用不同的操作系统进行开发，有的人用 Windows，有的人用 Linux/MacOS。众所周知，不同操作系统默认的文件结尾行是不同的：在 Windows 上默认的是回车换行（Carriage Return Line Feed, CRLF），然而，在 Linux/MacOS 上则是换行（Line Feed, LF）。这就可能导致这种情况：明明文件内容一模一样，但是版本比对时仍然存在版本差异。</p>
<p>那么如何解决这个问题呢？Git 提供了 <code>.gitattributes</code> 配置文件，它允许使用者指定由 git 使用的文件和路径的属性。</p>
<p>在 Git 库中，一个普通文本文件的行尾默认是 <code>LF</code>。对于工作目录，除了 <code>text</code> 属性之外，还可以设置 <code>eol</code> 属性或 <code>core.eol</code> 配置变量。</p>
<p><code>.gitattributes</code> 文件中，可以用 text 属性指定某类文件或目录下的文件，控制它的行结束标准化。当一个文本文件被标准化时，它的行尾将在存储库中转换为 <code>LF</code>。要控制工作目录中使用的行结束风格，请使用单个文件的<code>eol</code>属性和所有文本文件的 <code>core.eol</code> 配置变量。</p>
<p>【示例】一份 .gitattributes 示例</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">* text=auto eol=lf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">*.txt text
</span></span><span class="line"><span class="cl">*.java text
</span></span><span class="line"><span class="cl">*.scala text
</span></span><span class="line"><span class="cl">*.groovy text
</span></span><span class="line"><span class="cl">*.gradle text
</span></span><span class="line"><span class="cl">*.properties text
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># unix style
</span></span><span class="line"><span class="cl">*.sh text eol=lf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># win style
</span></span><span class="line"><span class="cl">*.bat text eol=crlf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># binary
</span></span><span class="line"><span class="cl">*.jar binary
</span></span><span class="line"><span class="cl">*.war binary
</span></span><span class="line"><span class="cl">*.zip binary
</span></span><span class="line"><span class="cl">*.tar binary
</span></span><span class="line"><span class="cl">*.tar.gz binary
</span></span><span class="line"><span class="cl">*.gz binary
</span></span><span class="line"><span class="cl">*.apk binary
</span></span><span class="line"><span class="cl">*.bin binary
</span></span><span class="line"><span class="cl">*.exe binary
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>【推荐】这里推荐一个 Github 的开源项目：<a href="https://github.com/alexkaratarakis/gitattributes">gitignore</a>，在这里，你可以找到很多常用的 .gitignore 模板，如：Java、Nodejs、C++ 的 <code>.gitignore</code> 模板等等。</p>
</blockquote>
<h3 id="同时提交代码到不同的远程仓库">同时提交代码到不同的远程仓库<a hidden class="anchor" aria-hidden="true" href="#同时提交代码到不同的远程仓库">#</a></h3>
<p>如果，你在不同的 Git 远程仓库中维护同一个项目，你可能会有这样的需求：能不能一次提交，同时 push 到多个远程仓库中呢？</p>
<p>这个可以有，解决方案如下：</p>
<p>比如，我有一个 blog 项目，同时维护在 Github 和 Gitee 上。</p>
<p>（1）首先，在 Github 和 Gitee 上配置本地的 ssh 公钥（如果是 Gitlab，也同样如此），这样中央仓库就能识别本地。</p>
<p>生成 SSH 公钥的方法，请参考上文的 “生成 SSH 公钥” 章节。</p>
<p>（2）进入 git 项目的隐藏目录 <code>.git</code>，打开 config 文件，参考下面配置进行编辑：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[core]</span>
</span></span><span class="line"><span class="cl">	<span class="na">repositoryformatversion</span> <span class="o">=</span> <span class="s">0
</span></span></span><span class="line"><span class="cl"><span class="s">	filemode = false
</span></span></span><span class="line"><span class="cl"><span class="s">	bare = false
</span></span></span><span class="line"><span class="cl"><span class="s">	logallrefupdates = true
</span></span></span><span class="line"><span class="cl"><span class="s">	symlinks = false
</span></span></span><span class="line"><span class="cl"><span class="s">	ignorecase = true</span>
</span></span><span class="line"><span class="cl"><span class="k">[remote &#34;origin&#34;]</span>
</span></span><span class="line"><span class="cl">	<span class="na">url</span> <span class="o">=</span> <span class="s">git@github.com:dunwu/blog.git
</span></span></span><span class="line"><span class="cl"><span class="s">	url = git@gitee.com:turnon/blog.git
</span></span></span><span class="line"><span class="cl"><span class="s">	fetch = +refs/heads/*:refs/remotes/origin/*</span>
</span></span><span class="line"><span class="cl"><span class="k">[branch &#34;master&#34;]</span>
</span></span><span class="line"><span class="cl">	<span class="na">remote</span> <span class="o">=</span> <span class="s">origin
</span></span></span><span class="line"><span class="cl"><span class="s">	merge = refs/heads/master</span>
</span></span><span class="line"><span class="cl"><span class="k">[user]</span>
</span></span><span class="line"><span class="cl">	<span class="na">name</span> <span class="o">=</span> <span class="s">dunwu
</span></span></span><span class="line"><span class="cl"><span class="s">	email = forbreak@163.com</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>重点在于 <code>remote &quot;origin&quot;</code>，同时配置了两个 url。配置后，一旦触发 push 远程仓库的动作，就会同时推送提交记录到配置的远程仓库。</p>
<h3 id="github-issue-和-gitlab-issue">Github Issue 和 Gitlab Issue<a hidden class="anchor" aria-hidden="true" href="#github-issue-和-gitlab-issue">#</a></h3>
<p>开发软件，Bug 再所难免，出现问题不可怕，可怕的是放任不管；所以，优秀的软件项目，都应该管理好问题追踪。软件的使用者，在使用中，可能会遇到形形色色的问题，难以解决，需要向维护者寻求帮助。</p>
<p>问题追踪如此重要，所以各种代码托管平台都会提供 Issue 维护机制，如 Github Issue 和 Gitlab Issue。</p>
<p>如果一个项目的开源社区很活跃，在没有任何约束的前提下，提问肯定是五花八门的，让维护者难以招架。</p>
<p>其实，提问也是一门艺术，如果提问者的问题长篇大幅，言不达意，让别人难以理解，就很难得到有效帮助。关于如何高效的提问，推荐参考 <a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way">提问的智慧</a> 这篇文章，作者整理的非常好。</p>
<p>作为开发者，你不能期望所有提问者都是训练有素的提问者。所以，使用规范化的 Issue 模板来引导提问者提问，可以大大减轻开发者的负担。</p>
<h4 id="github-issue-模板">Github Issue 模板<a hidden class="anchor" aria-hidden="true" href="#github-issue-模板">#</a></h4>
<p>如何在 Github Issue 平台上创建 Issue 模板呢？方法如下：</p>
<p>（1）在仓库根目录创建新目录 <code>.github</code></p>
<p>（2）在 <code>.github</code> 目录中添加 <code>ISSUE_TEMPLATE</code> 目录，在其中添加的 md 文件都会被 Github 自动识，并将其作为 issue 的默认模板。</p>
<p>示例，下面是携程 <a href="https://github.com/ctripcorp/apollo">apollo</a> 的一个 Issue 模板，要求提问者填充 bug 描述、复现步骤、期望、截图、日志等细节。</p>
<center><figure>
    <img loading="lazy" src="./xiecheng-issue.png" width="100%"/> 
</figure>
</center>
<blockquote>
<p>更多模板：<a href="https://github.com/stevemao/github-issue-templates">Github issue_templates 模板</a></p>
</blockquote>
<h4 id="gitlab-issue-模板">Gitlab Issue 模板<a hidden class="anchor" aria-hidden="true" href="#gitlab-issue-模板">#</a></h4>
<p>如何在 Gitlab Issue 平台上创建 Issue 模板呢？方法如下：</p>
<p>（1）在仓库根目录创建新目录 <code>.gitlab</code></p>
<p>（2）在 <code>.gitlab</code> 目录中添加 <code>issue_templates</code> 目录，在其中添加的 md 文件都会被 Gitlab 自动识，并将其作为 issue 的默认模板。</p>
<center><figure>
    <img loading="lazy" src="./gitlab-issue.png" width="100%"/> 
</figure>
</center>
<blockquote>
<p>更多模板：<a href="https://gitlab.com/gitlab-org/gitlab/-/tree/master/.gitlab/issue_templates">Gitlab 官方 issue_templates 模板</a></p>
</blockquote>
<h3 id="git-hook">Git Hook<a hidden class="anchor" aria-hidden="true" href="#git-hook">#</a></h3>
<p>在执行提交代码（git commit），推送代码（git push）等行为时，我们可能希望做一些代码检查性工作，例如：代码 lint 检查、代码格式化等。当检查发现代码存在问题时，就拒绝代码提交，从而保证项目质量。</p>
<p>Git 提供了 Git Hook 机制，允许使用者在特定的重要动作发生时触发自定义脚本。有两类钩子：客户端钩子和服务器端钩子。客户端钩子由诸如提交和合并等操作所触发调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。钩子都被存储在 Git 项目目录下的 <code>.git/hooks</code> 子目录中。Git 在这个目录下放置了一些示例，这些示例的名字都是以 <code>.sample</code> 结尾，如果想启用它们，得先移除这个后缀。</p>
<p>常用的客户端钩子：</p>
<ul>
<li><code>pre-commit</code> 钩子：在提交信息前运行。 它用于检查即将提交的快照，例如，检查是否有所遗漏，确保测试运行，以及核查代码。 如果该钩子以非零值退出，Git 将放弃此次提交，不过你可以用 <code>git commit --no-verify</code> 来绕过这个环节。 你可以利用该钩子，来检查代码风格是否一致（运行类似 <code>lint</code> 的程序）、尾随空白字符是否存在（自带的钩子就是这么做的），或新方法的文档是否适当。</li>
<li><code>prepare-commit-msg</code> 钩子：在启动提交信息编辑器之前，默认信息被创建之后运行。 它允许你编辑提交者所看到的默认信息。 该钩子接收一些选项：存有当前提交信息的文件的路径、提交类型和修补提交的提交的 SHA-1 校验。 它对一般的提交来说并没有什么用；然而对那些会自动产生默认信息的提交，如提交信息模板、合并提交、压缩提交和修订提交等非常实用。 你可以结合提交模板来使用它，动态地插入信息。</li>
<li><code>commit-msg</code> 钩子：接收一个参数，此参数即上文提到的，存有当前提交信息的临时文件的路径。 如果该钩子脚本以非零值退出，Git 将放弃提交，因此，可以用来在提交通过前验证项目状态或提交信息。 在本章的最后一节，我们将展示如何使用该钩子来核对提交信息是否遵循指定的模板。</li>
<li><code>post-commit</code> 钩子：在整个提交过程完成后运行。它不接收任何参数，但你可以很容易地通过运行 <code>git log -1 HEAD</code> 来获得最后一次的提交信息。 该钩子一般用于通知之类的事情。</li>
<li><code>pre-push</code> 钩子：会在 <code>git push</code> 运行期间， 更新了远程引用但尚未传送对象时被调用。 它接受远程分支的名字和位置作为参数，同时从标准输入中读取一系列待更新的引用。 你可以在推送开始之前，用它验证对引用的更新操作（一个非零的退出码将终止推送过程）。</li>
</ul>
<h4 id="javascript-应用-git-hook">Javascript 应用 Git Hook<a hidden class="anchor" aria-hidden="true" href="#javascript-应用-git-hook">#</a></h4>
<p>想在 JavaScript 应用中使用 Git Hook，推荐使用 <a href="https://github.com/typicode/husky">husky</a> ，可以很方便的编写钩子处理命令。</p>
<p>使用方法很简单，先安装 husky</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">npm i -D husky
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后，在 package.json 中添加配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;husky&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;hooks&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;pre-commit&#34;</span><span class="p">:</span> <span class="s2">&#34;lint-staged&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;lint-staged&#34;</span><span class="err">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;src/**/*.{js,vue}&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;eslint --fix&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;git add&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上配置的作用是，当提交代码前（ <code>pre-commit</code> ），先执行 <code>lint-staged</code>；</p>
<p><code>lint-staged</code> 中执行的动作是，对 src 目录的所有 js、vue 文件进行 eslint 检查，并尝试修复。如果修复后没有问题，就 git add 添加修改后的文件；如果修复失败，则拒绝提交代码。</p>
<h2 id="参考资料">参考资料<a hidden class="anchor" aria-hidden="true" href="#参考资料">#</a></h2>
<ul>
<li><strong>官方资源</strong>
<ul>
<li><a href="https://git-scm.com/">Git 官网</a></li>
<li><a href="https://github.com/git/git">Git Github</a></li>
<li><a href="https://guides.github.com/">Github 官方教程</a></li>
</ul>
</li>
<li><strong>模板</strong>
<ul>
<li><a href="https://github.com/github/gitignore">gitignore 模板</a> - .gitignore 文件模板</li>
<li><a href="https://github.com/alexkaratarakis/gitattributes">gitattributes 模板</a> - .gitattributes 文件模板</li>
<li><a href="https://github.com/tiimgreen/github-cheat-sheet">github-cheat-sheet</a> - git 命令简略图表</li>
</ul>
</li>
<li><strong>Git 教程</strong>
<ul>
<li><a href="https://learngitbranching.js.org/">Learn Git branching</a> - 交互式教程</li>
<li><a href="https://git-scm.com/book/zh/v2">Git 官方推荐教程</a> - Scott Chacon 的 Git 书。
<ul>
<li><a href="https://github.com/k88hudson/git-flight-rules">git-flight-rules</a></li>
</ul>
</li>
<li><a href="https://github.com/521xueweihan/git-tips">git-tips</a></li>
<li><a href="https://github.com/geeeeeeeeek/git-recipes">Git 中文教程</a></li>
<li><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰的 Git 教程</a></li>
<li><a href="https://github.com/xirong/my-git">有关 git 的学习资源</a></li>
</ul>
</li>
<li><strong>文章</strong>
<ul>
<li><a href="https://github.com/k88hudson/git-flight-rules/blob/master/README_zh-CN.md">Git Cookbook</a></li>
<li><a href="https://github.com/521xueweihan/git-tips">Git 奇技淫巧</a></li>
<li><a href="https://github.com/aseaday/git-style-guide">Git 风格指南</a></li>
<li><a href="http://www.cnblogs.com/cnblogsfans/p/5075073.html">Git 在团队中的最佳实践&ndash;如何正确使用 Git Flow</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html">Commit message 和 Change log 编写指南</a></li>
</ul>
</li>
<li><strong>Git 工具</strong>
<ul>
<li><a href="https://git-scm.com/downloads/guis">guis</a> - Git 官网展示的客户端工具列表。</li>
<li><a href="https://github.com/gogits/gogs">gogs</a> - 极易搭建的自助 Git 服务。</li>
<li><a href="https://github.com/nvie/gitflow">gitflow</a> - 应用 <a href="http://nvie.com/posts/a-successful-git-branching-model/">fit-flow</a> 模型的工具。</li>
<li><a href="http://firstaidgit.io/">firstaidgit.io</a> 一个可搜索的最常被问到的 Git 的问题</li>
<li><a href="https://github.com/unixorn/git-extra-commands">git-extra-commands</a> - 一堆有用的额外的 Git 脚本</li>
<li><a href="https://github.com/tj/git-extras">git-extras</a> - GIT 工具集 &ndash; repo summary, repl, changelog population, author commit percentages and more</li>
<li><a href="https://github.com/qw3rtman/git-fire">git-fire</a> - git-fire 是一个 Git 插件，用于帮助在紧急情况下添加所有当前文件, 做提交(committing), 和推(push)到一个新分支(阻止合并冲突)。</li>
<li><a href="https://github.com/git-tips/tips">git-tips</a> - Git 小提示</li>
<li><a href="https://github.com/Originate/git-town">git-town</a> - 通用，高级 Git 工作流支持！</li>
</ul>
</li>
<li><strong>GUI 客户端</strong>
<ul>
<li><a href="https://www.gitkraken.com/">GitKraken</a> - 豪华的 Git 客户端 Windows, Mac &amp; Linux</li>
<li><a href="https://git-cola.github.io/">git-cola</a> - 另外一个 Git 客户端 Windows &amp; OS X</li>
<li><a href="https://github.com/git-up/GitUp">GitUp</a> - 一个新的 Git 客户端，在处理 Git 的复杂性上有自己的特点</li>
<li><a href="https://rowanj.github.io/gitx/">gitx-dev</a> - 图形化的 Git 客户端 OS X</li>
<li><a href="https://www.sourcetreeapp.com/">Source Tree</a> - 免费的图形化 Git 客户端 Windows &amp; OS X</li>
<li><a href="http://www.git-tower.com/">Tower</a> - 图形化 Git 客户端 OS X(付费)</li>
</ul>
</li>
<li><strong>git cheat sheet</strong>
<ul>
<li><a href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">github-git-cheat-sheet</a></li>
</ul>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://WFUing.github.io/post/tech/architecture/serverless/alicloud-fc-api/">
    <span class="title">« 上一页</span>
    <br>
    <span>Alicloud Function Compute API</span>
  </a>
  <a class="next" href="https://WFUing.github.io/post/tech/devoops/git/git-tutorial/">
    <span class="title">下一页 »</span>
    <br>
    <span>Git Tutorial</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on twitter"
        href="https://twitter.com/intent/tweet/?text=Git%20Principle&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f&amp;hashtags=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f&amp;title=Git%20Principle&amp;summary=Git%20Principle&amp;source=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f&title=Git%20Principle">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on whatsapp"
        href="https://api.whatsapp.com/send?text=Git%20Principle%20-%20https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on telegram"
        href="https://telegram.me/share/url?text=Git%20Principle&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Git Principle on ycombinator"
        href="https://news.ycombinator.com/submitlink?t=Git%20Principle&u=https%3a%2f%2fWFUing.github.io%2fpost%2ftech%2fdevoops%2fgit%2fgit-principle%2f">
        <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
            <path
                d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
        </svg>
    </a>
</div>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">💬评论</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.staticfile.org/twikoo/1.4.11/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://twikoo-api-three-gamma.vercel.app/",  
            el: "#tcomment",
            lang: 'zh-CN',
            region: 'ap-guangzhou',  
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        });
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://WFUing.github.io/">Waiting For You</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
