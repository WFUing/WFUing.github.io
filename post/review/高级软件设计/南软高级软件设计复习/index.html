<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>高级软件设计复习 | Waiting For You</title>
<meta name="keywords" content="">
<meta name="description" content="南京大学软件学院高级软件设计简答题部分复习">
<meta name="author" content="WFUing">
<link rel="canonical" href="https://WFUing.github.io/post/review/%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/%E5%8D%97%E8%BD%AF%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%A4%8D%E4%B9%A0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.078343916625d121842bb25d5797d26510dec739246c5291e7aa1c8bdfed3a34.css" integrity="sha256-B4NDkWYl0SGEK7JdV5fSZRDexzkkbFKR56oci9/tOjQ=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://WFUing.github.io/img/logo.gif">
<link rel="apple-touch-icon" href="https://WFUing.github.io/logo.gif">
<link rel="mask-icon" href="https://WFUing.github.io/logo.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
    processEscapes: true,
    processEnvironments: true,
    autoload: {
      color: [],
      colorv2: ['color']
    },
    packages: {'[+]': ['noerrors']}
  },
  options: {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/noerrors']
  }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>
<meta property="og:title" content="高级软件设计复习" />
<meta property="og:description" content="南京大学软件学院高级软件设计简答题部分复习" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://WFUing.github.io/post/review/%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/%E5%8D%97%E8%BD%AF%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%A4%8D%E4%B9%A0/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-12-31T13:53:28+08:00" />
<meta property="article:modified_time" content="2023-12-31T13:53:28+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="高级软件设计复习"/>
<meta name="twitter:description" content="南京大学软件学院高级软件设计简答题部分复习"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://WFUing.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "南软研一上复习",
      "item": "https://WFUing.github.io/post/review/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "高级软件设计复习",
      "item": "https://WFUing.github.io/post/review/%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/%E5%8D%97%E8%BD%AF%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%A4%8D%E4%B9%A0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "高级软件设计复习",
  "name": "高级软件设计复习",
  "description": "南京大学软件学院高级软件设计简答题部分复习",
  "keywords": [
    ""
  ],
  "articleBody": "23年秋季课上讲的模式有：状态、观察、单例、装饰者、工厂方法、抽象工厂、适配器、外观模式、模板方法、命令、迭代器、组合、策略、代理模式\n比较代理模式和适配器模式\n适配器模式是因为新旧接口不一致导致出现了客户端无法得到满足的问题，但是，由于旧的接口是不能被完全重构掉的，因为我们还想使用实现了这个接口的一些服务。那么为了使用以前实现旧接口的服务，我们就应该把新的接口转换成旧接口；实现这个转换的类就是抽象意义的转换器； 代理就不一样了，虽然代理也同样是增加了一层，但是，代理提供的接口和原本的接口是一样的，代理模式的作用是不把实现直接暴露给client，而是通过代理这个层，代理能够做一些处理； 比较工厂方法和抽象工厂方法\n工厂方法模式可以看成是抽象方法模式的一种特例,工厂方法模式是创建一个产品结构的，而抽象工厂模式是用来创建多个产品结构的。 工厂方法只有一个产品抽象类，而抽象工厂有多个产品抽象类。 工厂方法模式中的工厂具体类只能创建一类产品类对象，而抽象工厂模式的具体工厂可以创建多个产品类的实例。 比较透明组合和安全组合：\n透明组合模式的缺点是不够安全，因为叶子对象和容器对象在本质是有区别的。叶子对象不可能有下一个层次的对象，即不可能包含成员对象，因此为其提供add，remove，getChild等方法是没有意义的，这在编译阶段不会出错，但在运行阶段如果调用这些方法可能会出错。（如果没有提供相应的错误处理代码）。 抽象构件中没有声明任何用于管理成员对象的方法，对于叶子对象，客户端不可能调用到这些方法，所以这种做法是安全的。而安全组合模式的缺点就是不够透明，因为叶子构件和容器构件具有不同的方法，且容器构件中那些用于管理成员对象的方法没有在抽象构件类中定义，因此客户端不能完全针对抽象编程，必须有区别地对待叶子构件和容器构件。 比较 strict 观察者模式和 relaxed 观察者模式（这个是我们论文里的）\nMVC如何体现设计模式\n策略模式：View和controller使用了策略模式，controller提供策略 观察者模式：状态发生变化的时候让相关的部分进行更新，使用观察者模式让model独立于viewandcontroller，可以在同样的model下使用不同的view 组合模式：展示界面包括了一系列的组件，这些组件或者是leaf，或者是composite，所以当controller告诉view更新的时候，只需要告诉顶层容器即可 考点 题型：简答、应⽤用\n题⽬ 设计⼀一个新模式 1 2 Get your ideas down on the paper in a way others can understand. 结合⼀个已有的模式定义⼀个新的模式。 Thinking in pattern 1 2 kiss(Keep it simple) 对不需要的部分就不使⽤ 复习 ⼯厂\n⼯厂对产品有么不同的要求? 设计原则 对开闭原则的支持程度(哪些修改⽀持，哪些不⽀持) 设计细节 ⼯厂之间的关系 ⼯厂⽅法的优缺点(见PPT) 1 2 3 简单⼯厂对开闭支持最差，⼯厂⽅法符合“开闭原则” ⼯厂⽅法，⼯厂父类负责定义产品对象的公共接口，⼯厂⼦类负责⽣成具体的产品对象，将产品类的实例化操作延迟到⼦类。 简单⼯厂简化了产品的生产过程，⼯厂⽅法通过继承来实现灵活性。 三种⼯厂⽅法的优缺点\n抽象⼯厂的退化\n1 2 当抽象⼯厂模式中每一个具体⼯厂类只创建⼀个产品对象，也就是只存在一个产品等级结构时，抽象⼯厂模式退化成⼯厂⽅法模式； 当⼯厂⽅法模式中抽象⼯厂与具体⼯厂合并，提供⼀个统⼀的⼯厂来创建产品对象，并将创建对象的⼯厂⽅法设计为静态⽅法时，⼯厂⽅法模式退化成简单⼯厂模式。 单例模式\n主要掌握代码实现，有三个注意点：\n单例例类的构造函数为私有; 提供⼀个⾃自身的静态私有成员变量; 提供⼀个公有的静态⼯厂⽅法。 优缺点\n适配器模式\n(画类图注意实线虚线) 适配器的扩展，如何对适配器模版进⾏双向\n双向适配器P32\n适配器器别名Wrapper，装饰器别名也为Wrapper 适配器，同时实现Target接口还有Adaptee的方法\n对象适配器器 关联关系 类适配器器\n模式透明性(透明性和安全性的考量)\n客户代码希望变化是透明的 更更注重容器器内组合结构的时候，可以牺牲透明，实现安全组合模式\n享元模式Flyweight Pool\n⼯厂模式和享元模式可以结合\n享元的内部状态和外部状态 享元⼯厂\n2019年 简答题 1. 请写出与工厂方法模式有关的OO原则 工厂方法模式是一种创建型设计模式，其主要目的是定义一个用于创建对象的接口，但将对象的实际实例化延迟到子类中。在使用工厂方法模式时，可以遵循以下面向对象的设计原则：\n开闭原则（Open/Closed Principle）： 定义： 软件实体（类、模块、函数等）应该对扩展开放，对修改关闭。 关联工厂方法模式： 工厂方法模式支持新产品的添加，只需创建新的具体产品类和相应的具体工厂类，而无需修改已有代码。 实现方式： 定义产品接口和工厂接口，通过子类扩展新产品和工厂，而不是修改已有的类。 单一职责原则（Single Responsibility Principle）： 定义： 一个类应该只有一个引起变化的原因，即一个类应该只有一个职责。 关联工厂方法模式： 工厂方法模式的每个具体工厂类负责创建一种具体产品，确保每个类都有清晰的职责，即产品的创建。 实现方式： 一个具体工厂类对应一个具体产品类，每个类都有自己的责任领域。 依赖倒置原则（Dependency Inversion Principle）： 定义： 高层模块不应该依赖于低层模块，二者都应该依赖于抽象。抽象不应该依赖于细节，细节应该依赖于抽象。 关联工厂方法模式： 客户端代码（高层模块）通过工厂接口（抽象）与具体工厂类进行交互，而不直接依赖于具体产品类。 实现方式： 客户端依赖于工厂接口，而具体工厂类和具体产品类都实现这个接口，实现了抽象和细节的分离。 2. 什么是设计模式？什么是design pattern catalog？（原题就是这么写的） 记录设计面向对象软件的经验；\n每个设计模式在面向对象系统中系统地命名，解释和评估一个重要而且重复的设计； 目标是以人们可以有效使用的形式捕捉设计经验。\n设计模式的4个元素：\npattern name模式名称，一个助记名，它用两个词来描述模式的问题、解决方案和效果。 problem问题，描述了应该在何时使用模式。 solution解决方案，描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式。 consequence效果，描述了模式应用的效果及使用模式应权衡的问题。 3. 观察者模式中的update方法是否必须？请说明理由。 在观察者模式中，update 方法并不是必须的，因为具体的观察者类可以根据需要选择实现这个方法或不实现。观察者模式的核心思想是定义对象间的一对多的依赖关系，当一个对象（主题或被观察者）的状态发生变化时，所有依赖于它的对象（观察者）都得到通知并被自动更新。\n在典型的观察者模式中，通常有两种方式来通知观察者：\n推模型： 主题对象推送详细信息给观察者，观察者在接收到通知后，调用相应的更新方法进行处理。 拉模型： 主题对象只通知观察者发生了变化，观察者根据需要自行从主题对象中获取详细信息。 如果使用推模型，那么观察者类通常需要实现 update 方法，因为主题对象需要调用这个方法来传递详细信息。但如果使用拉模型，观察者类可以选择性地实现 update 方法，因为观察者可以通过其他方式获取信息。\n4. 比较策略模式和状态模式。 策略模式（Strategy Pattern）和状态模式（State Pattern）都属于行为型设计模式，它们有一些相似之处，但在用途和实现上存在一些关键的区别。\n相似之处：\n目标： 两者的目标都是定义一系列算法或行为，并且使得这些算法或行为可以相互替换，从而使得系统更加灵活、可扩展和可维护。 结构： 在两者中，都通过定义一组类来实现这些算法或行为，使得它们可以独立变化而不影响客户端。 不同之处：\n关注点： 策略模式： 关注的是算法的不同实现，客户端可以选择使用不同的策略来达到相同的目标。 状态模式： 关注的是对象在不同状态下的不同行为，对象在不同状态下有不同的行为响应。 切换时机： 策略模式： 切换策略是由客户端控制的，客户端根据需要决定何时切换不同的策略。 状态模式： 切换状态通常是由对象自身内部状态改变触发的，状态的改变会导致对象的行为发生变化。 关系复杂度： 策略模式： 各个策略之间通常是独立的，彼此之间没有太多关联。 状态模式： 不同的状态之间通常存在复杂的转换关系，状态之间的切换可能受到一些条件的限制。 上下文对象的角色： 策略模式： 上下文对象了解各个策略，负责选择和切换策略。 状态模式： 上下文对象不仅了解各个状态，还负责管理状态之间的切换。 5. 比较适配器模式、外观模式、装饰者模式的意图。 见前\n6. 比较透明组合和安全组合。 见前\n7. 圣诞节快到了，我们需要生产礼物，要确保礼物是能适合所有年龄段的，并且礼物中给出了建议的年龄段，请问要用什么设计模式来实现，并解释。 为了实现适合所有年龄段的礼物，并且为每个礼物给出了建议的年龄段，可以考虑使用工厂方法模式和抽象工厂模式。这两种设计模式可以帮助你灵活地创建不同类型的礼物，并为每个礼物定义适合的年龄段。\n8、比较strict观察者模式和relaxed观察者模式（这个是我们论文里的） 设计题 1、第一题是书上装饰者模式的例子，要求画出类图，写出代码，把书上例子看懂没问题。 2、写出一个单例模式 3、写出猫狗的双向适配器，猫有捉老鼠catchMouse的方法，狗有bark的方法，写一个适配器，让猫能bark，狗能catchMouse。（2018年的原题） 4、背景：公司中有许多部门，呈现树状结构，现在公司的OA系统要有通知功能，它能够通知一个部门的所有人，也能够通知single individual，请你设计这个系统的结构，使用Gama（伽马）表示法，画出示系统示意图。（设计模式可视化论文中的） ",
  "wordCount" : "197",
  "inLanguage": "zh",
  "datePublished": "2023-12-31T13:53:28+08:00",
  "dateModified": "2023-12-31T13:53:28+08:00",
  "author":{
    "@type": "Person",
    "name": "WFUing"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://WFUing.github.io/post/review/%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/%E5%8D%97%E8%BD%AF%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%A4%8D%E4%B9%A0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Waiting For You",
    "logo": {
      "@type": "ImageObject",
      "url": "https://WFUing.github.io/img/logo.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header"><nav class="nav">
    <div class="logo">
        <a style="color: rgb(218, 218, 219);" href="https://WFUing.github.io/" accesskey="h" title="Waiting For You (Alt + H)">Waiting For You</a>
        <div class="logo-switches">
            <button id="theme-toggle" accesskey="t" title="(Alt + T)" style="color: rgb(218, 218, 219);">
                <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
        </div>
    </div>
    <ul id="menu">
        <li>
            <a href="https://WFUing.github.io/search" title="SEARCH (Alt &#43; /)" accesskey=/>
                <span style="color: rgb(218, 218, 219);">SEARCH</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/" title="HOME">
                <span style="color: rgb(218, 218, 219);">HOME</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/post" title="BLOGS">
                <span style="color: rgb(218, 218, 219);">BLOGS</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/archives" title="ARCHIVE">
                <span style="color: rgb(218, 218, 219);">ARCHIVE</span>
            </a>
        </li>
        <li>
            <a href="https://WFUing.github.io/tags" title="TAGS">
                <span style="color: rgb(218, 218, 219);">TAGS</span>
            </a>
        </li>
    </ul>
</nav>
</header>


<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://WFUing.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/">Posts</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/post/review/">南软研一上复习</a></div>
    <h1 class="post-title">
      高级软件设计复习
    </h1>
    <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2023-12-31
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>197字
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>1分钟
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>WFUing
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
            </span>
        </span>
    </span>
</span>
        &nbsp;|&nbsp;标签: &nbsp;
        <ul class="post-tags-meta">
        </ul>

        
        
        
        
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_page_pv">
            &nbsp;| 访问: <span id="busuanzi_value_page_pv"></span>
        </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e8%80%83%e7%82%b9" aria-label="考点">考点</a><ul>
                            
                    <li>
                        <a href="#%e9%a2%98" aria-label="题⽬">题⽬</a></li>
                    <li>
                        <a href="#%e5%a4%8d%e4%b9%a0" aria-label="复习">复习</a></li></ul>
                    </li>
                    <li>
                        <a href="#2019%e5%b9%b4" aria-label="2019年">2019年</a><ul>
                            
                    <li>
                        <a href="#%e7%ae%80%e7%ad%94%e9%a2%98" aria-label="简答题">简答题</a><ul>
                            
                    <li>
                        <a href="#1-%e8%af%b7%e5%86%99%e5%87%ba%e4%b8%8e%e5%b7%a5%e5%8e%82%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f%e6%9c%89%e5%85%b3%e7%9a%84oo%e5%8e%9f%e5%88%99" aria-label="1. 请写出与工厂方法模式有关的OO原则">1. 请写出与工厂方法模式有关的OO原则</a></li>
                    <li>
                        <a href="#2-%e4%bb%80%e4%b9%88%e6%98%af%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e4%bb%80%e4%b9%88%e6%98%afdesign-pattern-catalog%e5%8e%9f%e9%a2%98%e5%b0%b1%e6%98%af%e8%bf%99%e4%b9%88%e5%86%99%e7%9a%84" aria-label="2. 什么是设计模式？什么是design pattern catalog？（原题就是这么写的）">2. 什么是设计模式？什么是design pattern catalog？（原题就是这么写的）</a></li>
                    <li>
                        <a href="#3-%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f%e4%b8%ad%e7%9a%84update%e6%96%b9%e6%b3%95%e6%98%af%e5%90%a6%e5%bf%85%e9%a1%bb%e8%af%b7%e8%af%b4%e6%98%8e%e7%90%86%e7%94%b1" aria-label="3. 观察者模式中的update方法是否必须？请说明理由。">3. 观察者模式中的update方法是否必须？请说明理由。</a></li>
                    <li>
                        <a href="#4-%e6%af%94%e8%be%83%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8f%e5%92%8c%e7%8a%b6%e6%80%81%e6%a8%a1%e5%bc%8f" aria-label="4. 比较策略模式和状态模式。">4. 比较策略模式和状态模式。</a></li>
                    <li>
                        <a href="#5-%e6%af%94%e8%be%83%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8f%e5%a4%96%e8%a7%82%e6%a8%a1%e5%bc%8f%e8%a3%85%e9%a5%b0%e8%80%85%e6%a8%a1%e5%bc%8f%e7%9a%84%e6%84%8f%e5%9b%be" aria-label="5. 比较适配器模式、外观模式、装饰者模式的意图。">5. 比较适配器模式、外观模式、装饰者模式的意图。</a></li>
                    <li>
                        <a href="#6-%e6%af%94%e8%be%83%e9%80%8f%e6%98%8e%e7%bb%84%e5%90%88%e5%92%8c%e5%ae%89%e5%85%a8%e7%bb%84%e5%90%88" aria-label="6. 比较透明组合和安全组合。">6. 比较透明组合和安全组合。</a></li>
                    <li>
                        <a href="#7-%e5%9c%a3%e8%af%9e%e8%8a%82%e5%bf%ab%e5%88%b0%e4%ba%86%e6%88%91%e4%bb%ac%e9%9c%80%e8%a6%81%e7%94%9f%e4%ba%a7%e7%a4%bc%e7%89%a9%e8%a6%81%e7%a1%ae%e4%bf%9d%e7%a4%bc%e7%89%a9%e6%98%af%e8%83%bd%e9%80%82%e5%90%88%e6%89%80%e6%9c%89%e5%b9%b4%e9%be%84%e6%ae%b5%e7%9a%84%e5%b9%b6%e4%b8%94%e7%a4%bc%e7%89%a9%e4%b8%ad%e7%bb%99%e5%87%ba%e4%ba%86%e5%bb%ba%e8%ae%ae%e7%9a%84%e5%b9%b4%e9%be%84%e6%ae%b5%e8%af%b7%e9%97%ae%e8%a6%81%e7%94%a8%e4%bb%80%e4%b9%88%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e6%9d%a5%e5%ae%9e%e7%8e%b0%e5%b9%b6%e8%a7%a3%e9%87%8a" aria-label="7. 圣诞节快到了，我们需要生产礼物，要确保礼物是能适合所有年龄段的，并且礼物中给出了建议的年龄段，请问要用什么设计模式来实现，并解释。">7. 圣诞节快到了，我们需要生产礼物，要确保礼物是能适合所有年龄段的，并且礼物中给出了建议的年龄段，请问要用什么设计模式来实现，并解释。</a></li>
                    <li>
                        <a href="#8%e6%af%94%e8%be%83strict%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f%e5%92%8crelaxed%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f%e8%bf%99%e4%b8%aa%e6%98%af%e6%88%91%e4%bb%ac%e8%ae%ba%e6%96%87%e9%87%8c%e7%9a%84" aria-label="8、比较strict观察者模式和relaxed观察者模式（这个是我们论文里的）">8、比较strict观察者模式和relaxed观察者模式（这个是我们论文里的）</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%ae%be%e8%ae%a1%e9%a2%98" aria-label="设计题">设计题</a><ul>
                            
                    <li>
                        <a href="#1%e7%ac%ac%e4%b8%80%e9%a2%98%e6%98%af%e4%b9%a6%e4%b8%8a%e8%a3%85%e9%a5%b0%e8%80%85%e6%a8%a1%e5%bc%8f%e7%9a%84%e4%be%8b%e5%ad%90%e8%a6%81%e6%b1%82%e7%94%bb%e5%87%ba%e7%b1%bb%e5%9b%be%e5%86%99%e5%87%ba%e4%bb%a3%e7%a0%81%e6%8a%8a%e4%b9%a6%e4%b8%8a%e4%be%8b%e5%ad%90%e7%9c%8b%e6%87%82%e6%b2%a1%e9%97%ae%e9%a2%98" aria-label="1、第一题是书上装饰者模式的例子，要求画出类图，写出代码，把书上例子看懂没问题。">1、第一题是书上装饰者模式的例子，要求画出类图，写出代码，把书上例子看懂没问题。</a></li>
                    <li>
                        <a href="#2%e5%86%99%e5%87%ba%e4%b8%80%e4%b8%aa%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f" aria-label="2、写出一个单例模式">2、写出一个单例模式</a></li>
                    <li>
                        <a href="#3%e5%86%99%e5%87%ba%e7%8c%ab%e7%8b%97%e7%9a%84%e5%8f%8c%e5%90%91%e9%80%82%e9%85%8d%e5%99%a8%e7%8c%ab%e6%9c%89%e6%8d%89%e8%80%81%e9%bc%a0catchmouse%e7%9a%84%e6%96%b9%e6%b3%95%e7%8b%97%e6%9c%89bark%e7%9a%84%e6%96%b9%e6%b3%95%e5%86%99%e4%b8%80%e4%b8%aa%e9%80%82%e9%85%8d%e5%99%a8%e8%ae%a9%e7%8c%ab%e8%83%bdbark%e7%8b%97%e8%83%bdcatchmouse2018%e5%b9%b4%e7%9a%84%e5%8e%9f%e9%a2%98" aria-label="3、写出猫狗的双向适配器，猫有捉老鼠catchMouse的方法，狗有bark的方法，写一个适配器，让猫能bark，狗能catchMouse。（2018年的原题）">3、写出猫狗的双向适配器，猫有捉老鼠catchMouse的方法，狗有bark的方法，写一个适配器，让猫能bark，狗能catchMouse。（2018年的原题）</a></li>
                    <li>
                        <a href="#4%e8%83%8c%e6%99%af%e5%85%ac%e5%8f%b8%e4%b8%ad%e6%9c%89%e8%ae%b8%e5%a4%9a%e9%83%a8%e9%97%a8%e5%91%88%e7%8e%b0%e6%a0%91%e7%8a%b6%e7%bb%93%e6%9e%84%e7%8e%b0%e5%9c%a8%e5%85%ac%e5%8f%b8%e7%9a%84oa%e7%b3%bb%e7%bb%9f%e8%a6%81%e6%9c%89%e9%80%9a%e7%9f%a5%e5%8a%9f%e8%83%bd%e5%ae%83%e8%83%bd%e5%a4%9f%e9%80%9a%e7%9f%a5%e4%b8%80%e4%b8%aa%e9%83%a8%e9%97%a8%e7%9a%84%e6%89%80%e6%9c%89%e4%ba%ba%e4%b9%9f%e8%83%bd%e5%a4%9f%e9%80%9a%e7%9f%a5single-individual%e8%af%b7%e4%bd%a0%e8%ae%be%e8%ae%a1%e8%bf%99%e4%b8%aa%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%bb%93%e6%9e%84%e4%bd%bf%e7%94%a8gama%e4%bc%bd%e9%a9%ac%e8%a1%a8%e7%a4%ba%e6%b3%95%e7%94%bb%e5%87%ba%e7%a4%ba%e7%b3%bb%e7%bb%9f%e7%a4%ba%e6%84%8f%e5%9b%be%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e5%8f%af%e8%a7%86%e5%8c%96%e8%ae%ba%e6%96%87%e4%b8%ad%e7%9a%84" aria-label="4、背景：公司中有许多部门，呈现树状结构，现在公司的OA系统要有通知功能，它能够通知一个部门的所有人，也能够通知single individual，请你设计这个系统的结构，使用Gama（伽马）表示法，画出示系统示意图。（设计模式可视化论文中的）">4、背景：公司中有许多部门，呈现树状结构，现在公司的OA系统要有通知功能，它能够通知一个部门的所有人，也能够通知single individual，请你设计这个系统的结构，使用Gama（伽马）表示法，画出示系统示意图。（设计模式可视化论文中的）</a>
                    </li>
                </ul>
                </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><p>23年秋季课上讲的模式有：状态、观察、单例、装饰者、工厂方法、抽象工厂、适配器、外观模式、模板方法、命令、迭代器、组合、策略、代理模式</p>
<p><img loading="lazy" src="image.png" alt=""  />
</p>
<p><strong>比较代理模式和适配器模式</strong></p>
<ul>
<li>适配器模式是因为新旧接口不一致导致出现了客户端无法得到满足的问题，但是，由于旧的接口是不能被完全重构掉的，因为我们还想使用实现了这个接口的一些服务。那么为了使用以前实现旧接口的服务，我们就应该把新的接口转换成旧接口；实现这个转换的类就是抽象意义的转换器；</li>
<li>代理就不一样了，虽然代理也同样是增加了一层，但是，代理提供的接口和原本的接口是一样的，代理模式的作用是不把实现直接暴露给client，而是通过代理这个层，代理能够做一些处理；</li>
</ul>
<p><strong>比较工厂方法和抽象工厂方法</strong></p>
<ul>
<li>工厂方法模式可以看成是抽象方法模式的一种特例,工厂方法模式是创建一个产品结构的，而抽象工厂模式是用来创建多个产品结构的。</li>
<li>工厂方法只有一个产品抽象类，而抽象工厂有多个产品抽象类。</li>
<li>工厂方法模式中的工厂具体类只能创建一类产品类对象，而抽象工厂模式的具体工厂可以创建多个产品类的实例。</li>
</ul>
<p><strong>比较透明组合和安全组合</strong>：</p>
<ul>
<li>透明组合模式的缺点是不够安全，因为叶子对象和容器对象在本质是有区别的。叶子对象不可能有下一个层次的对象，即不可能包含成员对象，因此为其提供add，remove，getChild等方法是没有意义的，这在编译阶段不会出错，但在运行阶段如果调用这些方法可能会出错。（如果没有提供相应的错误处理代码）。</li>
<li>抽象构件中没有声明任何用于管理成员对象的方法，对于叶子对象，客户端不可能调用到这些方法，所以这种做法是安全的。而安全组合模式的缺点就是不够透明，因为叶子构件和容器构件具有不同的方法，且容器构件中那些用于管理成员对象的方法没有在抽象构件类中定义，因此客户端不能完全针对抽象编程，必须有区别地对待叶子构件和容器构件。</li>
</ul>
<p><strong>比较 strict 观察者模式和 relaxed 观察者模式（这个是我们论文里的）</strong></p>
<p><img loading="lazy" src="image-1.png" alt=""  />
</p>
<p><strong>MVC如何体现设计模式</strong></p>
<ul>
<li>策略模式：View和controller使用了策略模式，controller提供策略</li>
<li>观察者模式：状态发生变化的时候让相关的部分进行更新，使用观察者模式让model独立于viewandcontroller，可以在同样的model下使用不同的view</li>
<li>组合模式：展示界面包括了一系列的组件，这些组件或者是leaf，或者是composite，所以当controller告诉view更新的时候，只需要告诉顶层容器即可</li>
</ul>
<h2 id="考点">考点<a hidden class="anchor" aria-hidden="true" href="#考点">#</a></h2>
<p>题型：简答、应⽤用</p>
<h3 id="题">题⽬<a hidden class="anchor" aria-hidden="true" href="#题">#</a></h3>
<ol>
<li>设计⼀一个新模式</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Get your ideas down on the paper in a way others can understand.
</span></span><span class="line"><span class="cl">结合⼀个已有的模式定义⼀个新的模式。
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Thinking in pattern</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">kiss(Keep it simple) 
</span></span><span class="line"><span class="cl">对不需要的部分就不使⽤
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="复习">复习<a hidden class="anchor" aria-hidden="true" href="#复习">#</a></h3>
<p>⼯厂</p>
<ol start="0">
<li>⼯厂对产品有么不同的要求?</li>
<li>设计原则 对开闭原则的支持程度(哪些修改⽀持，哪些不⽀持)</li>
<li>设计细节</li>
<li>⼯厂之间的关系</li>
<li>⼯厂⽅法的优缺点(见PPT)</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">简单⼯厂对开闭支持最差，⼯厂⽅法符合“开闭原则” 
</span></span><span class="line"><span class="cl">⼯厂⽅法，⼯厂父类负责定义产品对象的公共接口，⼯厂⼦类负责⽣成具体的产品对象，将产品类的实例化操作延迟到⼦类。
</span></span><span class="line"><span class="cl">简单⼯厂简化了产品的生产过程，⼯厂⽅法通过继承来实现灵活性。
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>三种⼯厂⽅法的优缺点</strong></p>
<p>抽象⼯厂的退化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">当抽象⼯厂模式中每一个具体⼯厂类只创建⼀个产品对象，也就是只存在一个产品等级结构时，抽象⼯厂模式退化成⼯厂⽅法模式；
</span></span><span class="line"><span class="cl">当⼯厂⽅法模式中抽象⼯厂与具体⼯厂合并，提供⼀个统⼀的⼯厂来创建产品对象，并将创建对象的⼯厂⽅法设计为静态⽅法时，⼯厂⽅法模式退化成简单⼯厂模式。
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>单例模式</strong></p>
<p>主要掌握代码实现，有三个注意点：</p>
<ul>
<li>单例例类的构造函数为私有;</li>
<li>提供⼀个⾃自身的静态私有成员变量;</li>
<li>提供⼀个公有的静态⼯厂⽅法。</li>
</ul>
<p>优缺点</p>
<p><strong>适配器模式</strong></p>
<p>(画类图注意实线虚线) 适配器的扩展，如何对适配器模版进⾏双向</p>
<p><em>双向适配器P32</em></p>
<p>适配器器别名Wrapper，装饰器别名也为Wrapper 适配器，同时实现Target接口还有Adaptee的方法</p>
<p>对象适配器器 关联关系 类适配器器</p>
<p><strong>模式透明性</strong>(透明性和安全性的考量)</p>
<p>客户代码希望变化是透明的 更更注重容器器内组合结构的时候，可以牺牲透明，实现安全组合模式</p>
<p><strong>享元模式</strong>Flyweight Pool</p>
<p>⼯厂模式和享元模式可以结合</p>
<p>享元的内部状态和外部状态 享元⼯厂</p>
<h2 id="2019年">2019年<a hidden class="anchor" aria-hidden="true" href="#2019年">#</a></h2>
<h3 id="简答题">简答题<a hidden class="anchor" aria-hidden="true" href="#简答题">#</a></h3>
<h4 id="1-请写出与工厂方法模式有关的oo原则">1. 请写出与工厂方法模式有关的OO原则<a hidden class="anchor" aria-hidden="true" href="#1-请写出与工厂方法模式有关的oo原则">#</a></h4>
<p>工厂方法模式是一种创建型设计模式，其主要目的是定义一个用于创建对象的接口，但将对象的实际实例化延迟到子类中。在使用工厂方法模式时，可以遵循以下面向对象的设计原则：</p>
<ol>
<li><strong>开闭原则</strong>（Open/Closed Principle）：</li>
</ol>
<ul>
<li>定义： 软件实体（类、模块、函数等）应该对扩展开放，对修改关闭。</li>
<li>关联工厂方法模式： 工厂方法模式支持新产品的添加，只需创建新的具体产品类和相应的具体工厂类，而无需修改已有代码。</li>
<li>实现方式： 定义产品接口和工厂接口，通过子类扩展新产品和工厂，而不是修改已有的类。</li>
</ul>
<ol start="2">
<li><strong>单一职责原则</strong>（Single Responsibility Principle）：</li>
</ol>
<ul>
<li>定义： 一个类应该只有一个引起变化的原因，即一个类应该只有一个职责。</li>
<li>关联工厂方法模式： 工厂方法模式的每个具体工厂类负责创建一种具体产品，确保每个类都有清晰的职责，即产品的创建。</li>
<li>实现方式： 一个具体工厂类对应一个具体产品类，每个类都有自己的责任领域。</li>
</ul>
<ol start="3">
<li><strong>依赖倒置原则</strong>（Dependency Inversion Principle）：</li>
</ol>
<ul>
<li>定义： 高层模块不应该依赖于低层模块，二者都应该依赖于抽象。抽象不应该依赖于细节，细节应该依赖于抽象。</li>
<li>关联工厂方法模式： 客户端代码（高层模块）通过工厂接口（抽象）与具体工厂类进行交互，而不直接依赖于具体产品类。</li>
<li>实现方式： 客户端依赖于工厂接口，而具体工厂类和具体产品类都实现这个接口，实现了抽象和细节的分离。</li>
</ul>
<h4 id="2-什么是设计模式什么是design-pattern-catalog原题就是这么写的">2. 什么是设计模式？什么是design pattern catalog？（原题就是这么写的）<a hidden class="anchor" aria-hidden="true" href="#2-什么是设计模式什么是design-pattern-catalog原题就是这么写的">#</a></h4>
<p>记录设计面向对象软件的经验；</p>
<p>每个设计模式在面向对象系统中系统地命名，解释和评估一个重要而且重复的设计；
目标是以人们可以有效使用的形式捕捉设计经验。</p>
<p>设计模式的4个元素：</p>
<ul>
<li>pattern name模式名称，一个助记名，它用两个词来描述模式的问题、解决方案和效果。</li>
<li>problem问题，描述了应该在何时使用模式。</li>
<li>solution解决方案，描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式。</li>
<li>consequence效果，描述了模式应用的效果及使用模式应权衡的问题。</li>
</ul>
<h4 id="3-观察者模式中的update方法是否必须请说明理由">3. 观察者模式中的update方法是否必须？请说明理由。<a hidden class="anchor" aria-hidden="true" href="#3-观察者模式中的update方法是否必须请说明理由">#</a></h4>
<p>在观察者模式中，update 方法并不是必须的，因为具体的观察者类可以根据需要选择实现这个方法或不实现。观察者模式的核心思想是定义对象间的一对多的依赖关系，当一个对象（主题或被观察者）的状态发生变化时，所有依赖于它的对象（观察者）都得到通知并被自动更新。</p>
<p>在典型的观察者模式中，通常有两种方式来通知观察者：</p>
<ul>
<li>推模型： 主题对象推送详细信息给观察者，观察者在接收到通知后，调用相应的更新方法进行处理。</li>
<li>拉模型： 主题对象只通知观察者发生了变化，观察者根据需要自行从主题对象中获取详细信息。</li>
</ul>
<p>如果使用推模型，那么观察者类通常需要实现 update 方法，因为主题对象需要调用这个方法来传递详细信息。但如果使用拉模型，观察者类可以选择性地实现 update 方法，因为观察者可以通过其他方式获取信息。</p>
<h4 id="4-比较策略模式和状态模式">4. 比较策略模式和状态模式。<a hidden class="anchor" aria-hidden="true" href="#4-比较策略模式和状态模式">#</a></h4>
<p>策略模式（Strategy Pattern）和状态模式（State Pattern）都属于行为型设计模式，它们有一些相似之处，但在用途和实现上存在一些关键的区别。</p>
<p><strong>相似之处</strong>：</p>
<ul>
<li>目标： 两者的目标都是定义一系列算法或行为，并且使得这些算法或行为可以相互替换，从而使得系统更加灵活、可扩展和可维护。</li>
<li>结构： 在两者中，都通过定义一组类来实现这些算法或行为，使得它们可以独立变化而不影响客户端。</li>
</ul>
<p><strong>不同之处</strong>：</p>
<ul>
<li>关注点：
<ul>
<li>策略模式： 关注的是算法的不同实现，客户端可以选择使用不同的策略来达到相同的目标。</li>
<li>状态模式： 关注的是对象在不同状态下的不同行为，对象在不同状态下有不同的行为响应。</li>
</ul>
</li>
<li>切换时机：
<ul>
<li>策略模式： 切换策略是由客户端控制的，客户端根据需要决定何时切换不同的策略。</li>
<li>状态模式： 切换状态通常是由对象自身内部状态改变触发的，状态的改变会导致对象的行为发生变化。</li>
</ul>
</li>
<li>关系复杂度：
<ul>
<li>策略模式： 各个策略之间通常是独立的，彼此之间没有太多关联。</li>
<li>状态模式： 不同的状态之间通常存在复杂的转换关系，状态之间的切换可能受到一些条件的限制。</li>
</ul>
</li>
<li>上下文对象的角色：
<ul>
<li>策略模式： 上下文对象了解各个策略，负责选择和切换策略。</li>
<li>状态模式： 上下文对象不仅了解各个状态，还负责管理状态之间的切换。</li>
</ul>
</li>
</ul>
<h4 id="5-比较适配器模式外观模式装饰者模式的意图">5. 比较适配器模式、外观模式、装饰者模式的意图。<a hidden class="anchor" aria-hidden="true" href="#5-比较适配器模式外观模式装饰者模式的意图">#</a></h4>
<p>见前</p>
<h4 id="6-比较透明组合和安全组合">6. 比较透明组合和安全组合。<a hidden class="anchor" aria-hidden="true" href="#6-比较透明组合和安全组合">#</a></h4>
<p>见前</p>
<h4 id="7-圣诞节快到了我们需要生产礼物要确保礼物是能适合所有年龄段的并且礼物中给出了建议的年龄段请问要用什么设计模式来实现并解释">7. 圣诞节快到了，我们需要生产礼物，要确保礼物是能适合所有年龄段的，并且礼物中给出了建议的年龄段，请问要用什么设计模式来实现，并解释。<a hidden class="anchor" aria-hidden="true" href="#7-圣诞节快到了我们需要生产礼物要确保礼物是能适合所有年龄段的并且礼物中给出了建议的年龄段请问要用什么设计模式来实现并解释">#</a></h4>
<p>为了实现适合所有年龄段的礼物，并且为每个礼物给出了建议的年龄段，可以考虑使用工厂方法模式和抽象工厂模式。这两种设计模式可以帮助你灵活地创建不同类型的礼物，并为每个礼物定义适合的年龄段。</p>
<h4 id="8比较strict观察者模式和relaxed观察者模式这个是我们论文里的">8、比较strict观察者模式和relaxed观察者模式（这个是我们论文里的）<a hidden class="anchor" aria-hidden="true" href="#8比较strict观察者模式和relaxed观察者模式这个是我们论文里的">#</a></h4>
<p><img loading="lazy" src="image-2.png" alt=""  />
</p>
<h3 id="设计题">设计题<a hidden class="anchor" aria-hidden="true" href="#设计题">#</a></h3>
<h4 id="1第一题是书上装饰者模式的例子要求画出类图写出代码把书上例子看懂没问题">1、第一题是书上装饰者模式的例子，要求画出类图，写出代码，把书上例子看懂没问题。<a hidden class="anchor" aria-hidden="true" href="#1第一题是书上装饰者模式的例子要求画出类图写出代码把书上例子看懂没问题">#</a></h4>
<h4 id="2写出一个单例模式">2、写出一个单例模式<a hidden class="anchor" aria-hidden="true" href="#2写出一个单例模式">#</a></h4>
<h4 id="3写出猫狗的双向适配器猫有捉老鼠catchmouse的方法狗有bark的方法写一个适配器让猫能bark狗能catchmouse2018年的原题">3、写出猫狗的双向适配器，猫有捉老鼠catchMouse的方法，狗有bark的方法，写一个适配器，让猫能bark，狗能catchMouse。（2018年的原题）<a hidden class="anchor" aria-hidden="true" href="#3写出猫狗的双向适配器猫有捉老鼠catchmouse的方法狗有bark的方法写一个适配器让猫能bark狗能catchmouse2018年的原题">#</a></h4>
<h4 id="4背景公司中有许多部门呈现树状结构现在公司的oa系统要有通知功能它能够通知一个部门的所有人也能够通知single-individual请你设计这个系统的结构使用gama伽马表示法画出示系统示意图设计模式可视化论文中的">4、背景：公司中有许多部门，呈现树状结构，现在公司的OA系统要有通知功能，它能够通知一个部门的所有人，也能够通知single individual，请你设计这个系统的结构，使用Gama（伽马）表示法，画出示系统示意图。（设计模式可视化论文中的）<a hidden class="anchor" aria-hidden="true" href="#4背景公司中有许多部门呈现树状结构现在公司的oa系统要有通知功能它能够通知一个部门的所有人也能够通知single-individual请你设计这个系统的结构使用gama伽马表示法画出示系统示意图设计模式可视化论文中的">#</a></h4>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="next" href="https://WFUing.github.io/post/review/%E9%AB%98%E7%BA%A7%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%9B%AE%E5%BD%95/">
    <span class="title">下一页 »</span>
    <br>
    <span>设计模式-目录</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on twitter"
        href="https://twitter.com/intent/tweet/?text=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f&amp;hashtags=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f&amp;title=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0&amp;summary=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0&amp;source=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f&title=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on whatsapp"
        href="https://api.whatsapp.com/send?text=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0%20-%20https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on telegram"
        href="https://telegram.me/share/url?text=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0&amp;url=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 高级软件设计复习 on ycombinator"
        href="https://news.ycombinator.com/submitlink?t=%e9%ab%98%e7%ba%a7%e8%bd%af%e4%bb%b6%e8%ae%be%e8%ae%a1%e5%a4%8d%e4%b9%a0&u=https%3a%2f%2fWFUing.github.io%2fpost%2freview%2f%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%2f%25E5%258D%2597%25E8%25BD%25AF%25E9%25AB%2598%25E7%25BA%25A7%25E8%25BD%25AF%25E4%25BB%25B6%25E8%25AE%25BE%25E8%25AE%25A1%25E5%25A4%258D%25E4%25B9%25A0%2f">
        <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
            <path
                d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
        </svg>
    </a>
</div>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">💬评论</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.staticfile.org/twikoo/1.4.11/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://twikoo-api-three-gamma.vercel.app/",  
            el: "#tcomment",
            lang: 'zh-CN',
            region: 'ap-guangzhou',  
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        });
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://WFUing.github.io/">Waiting For You</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
