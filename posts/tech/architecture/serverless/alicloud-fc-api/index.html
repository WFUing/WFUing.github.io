<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Alicloud Function Compute API | Waiting For You</title>
<meta name="keywords" content="serverless, alicloud">
<meta name="description" content="函数计算（Function Compute）是一个事件驱动的全托管 Serverless 计算服务，您无需管理服务器等基础设施，只需编写代码并上传，函数计算会为您准备好计算资源，并以弹性、可靠的方式运行您的代码。">
<meta name="author" content="WFUing">
<link rel="canonical" href="https://WFUing.github.io/posts/tech/architecture/serverless/alicloud-fc-api/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.c299e9bf5c68d9b79ebcdb13eaeb522bec488ea4d2320f2efda34f655c03c6a3.css" integrity="sha256-wpnpv1xo2beevNsT6utSK&#43;xIjqTSMg8u/aNPZVwDxqM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://WFUing.github.io/img/logo.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://WFUing.github.io/img/logo.gif">
<link rel="apple-touch-icon" href="https://WFUing.github.io/logo.gif">
<link rel="mask-icon" href="https://WFUing.github.io/logo.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            },
            "HTML-CSS": {
                availableFonts: ["Arial", "TeX"],
                preferredFont: "TeX",
                webFont: "TeX"
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>

<meta property="og:title" content="Alicloud Function Compute API" />
<meta property="og:description" content="函数计算（Function Compute）是一个事件驱动的全托管 Serverless 计算服务，您无需管理服务器等基础设施，只需编写代码并上传，函数计算会为您准备好计算资源，并以弹性、可靠的方式运行您的代码。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://WFUing.github.io/posts/tech/architecture/serverless/alicloud-fc-api/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-20T12:47:12+08:00" />
<meta property="article:modified_time" content="2023-10-20T12:47:12+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Alicloud Function Compute API"/>
<meta name="twitter:description" content="函数计算（Function Compute）是一个事件驱动的全托管 Serverless 计算服务，您无需管理服务器等基础设施，只需编写代码并上传，函数计算会为您准备好计算资源，并以弹性、可靠的方式运行您的代码。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://WFUing.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Technology",
      "item": "https://WFUing.github.io/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Architecture",
      "item": "https://WFUing.github.io/posts/tech/architecture/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Serverless",
      "item": "https://WFUing.github.io/posts/tech/architecture/serverless/"
    }, 
    {
      "@type": "ListItem",
      "position":  5 ,
      "name": "Alicloud Function Compute API",
      "item": "https://WFUing.github.io/posts/tech/architecture/serverless/alicloud-fc-api/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Alicloud Function Compute API",
  "name": "Alicloud Function Compute API",
  "description": "函数计算（Function Compute）是一个事件驱动的全托管 Serverless 计算服务，您无需管理服务器等基础设施，只需编写代码并上传，函数计算会为您准备好计算资源，并以弹性、可靠的方式运行您的代码。",
  "keywords": [
    "serverless", "alicloud"
  ],
  "articleBody": "Resources https://www.npmjs.com/package/@alicloud/fc-open20210406/v/2.0.9 CreateService 重要参数 参数名 描述 类型 是否必填 serviceName 服务的名称 string 是 description 服务的描述信息 string 否 internetAccess 是否允许公网访问 boolean 否 role 服务所使用的角色 string 是 vpcConfig 服务的VPC配置 dict 否 logConfig 服务的日志配置 dict 否 nasConfig 服务的NAS配置 dict 否 vpcConfig 字典包含以下键值：\n键名 描述 类型 是否必填 VpcId VPC的ID string 是 VSwitchIds VSwitch的ID列表 list 是 logConfig 字典包含以下键值：\n键名 描述 类型 是否必填 Project 日志服务的项目名称 string 是 Logstore 日志服务的日志库名称 string 是 nasConfig 字典包含以下键值：\n键名 描述 类型 是否必填 MountPoints NAS挂载点列表 list 是 UserId 用于访问NAS的用户ID string 是 GroupId 用于访问NAS的用户组ID string 是 GetService 重要参数 参数名 描述 类型 是否必填 serviceName 服务的名称 string 是 CreateFunction 重要参数 参数名 描述 类型 是否必填 serviceName 函数所属的服务名称 string 是 functionName 函数的名称 string 是 description 函数的描述信息 string 否 runtime 函数的运行环境 string 是 handler 函数的处理程序 string 是 initializer 函数的初始化程序 string 否 customContainerConfig 函数的自定义容器配置 dict 否 caPort 函数容器的端口号（仅适用于自定义容器） int 否 environmentVariables 函数的环境变量 dict 否 vpcConfig 函数的VPC配置 dict 否 logConfig 函数的日志配置 dict 否 nasConfig 函数的NAS配置 dict 否 mountPoints 函数的NAS挂载点列表 list[dict] 否 code 函数的代码 dict 是 layers 函数的Layer列表 list[string] 否 caEnable 是否开启自定义容器功能（仅适用于自定义容器） boolean 否 caFiles 自定义容器的CA证书文件列表（仅适用于自定义容器） list[dict] 否 runtime参数 runtime参数用于指定函数的运行环境。它决定了函数在何种语言和框架下执行。以下是runtime参数的常见取值及其对应的运行环境：\nruntime取值 运行环境 python2.7 Python 2.7 python3.6 Python 3.6 python3.7 Python 3.7 python3.8 Python 3.8 python3.9 Python 3.9 nodejs6 Node.js 6.x nodejs8 Node.js 8.x nodejs10 Node.js 10.x nodejs12 Node.js 12.x nodejs14 Node.js 14.x nodejs16 Node.js 16.x java8 Java 8 java11 Java 11 php7.2 PHP 7.2 dotnetcore2.1 .NET Core 2.1 dotnetcore3.1 .NET Core 3.1 custom 自定义运行时环境 对于大多数常用的编程语言和框架，可以直接选择相应的runtime取值。\n对于自定义运行时环境，可以选择\"custom\"作为runtime的取值，并提供自定义的运行时环境。自定义运行时环境需要提供相应的配置和执行文件，以便在函数中正确运行。\ncode参数 code参数用于指定函数的代码内容或代码存储位置。根据函数的具体需求和使用情况，code参数可以采用不同的设置方式。以下是对code参数的详细介绍：\n代码内容：可以直接将函数的代码内容作为字符串传递给code参数。这适用于函数代码比较简单且较短小的情况。将代码内容作为字符串传递给code参数时，通常需要指定runtime参数来指定函数的运行环境。\n代码存储位置：可以将函数的代码存储在指定的位置，例如对象存储（如OSS）或代码仓库（如GitHub），然后通过code参数提供相关的配置信息来引用这些存储位置的代码。具体的设置方式会根据不同的云服务提供商和平台而有所不同，通常需要提供存储位置的信息（如存储桶名称、对象键或代码仓库地址等）。\n对于直接传递代码内容的方式，阿里云提供了使用Base64编码的zip包方式。您可以将函数代码打包成zip包，并使用Base64编码将其转换为字符串，然后将该字符串作为zipFile字段的值传递给code参数。\n对于代码存储位置的情况，您需要提供相应的配置信息，例如存储位置的访问密钥、存储桶名称、对象键等。具体的设置方式会因云服务提供商和平台而有所不同。例如，在使用对象存储（如OSS）存储位置的情况下，可以提供如下配置：\n1 2 3 4 5 6 7 8 code = { \"ossBucketName\": \"my-bucket\", \"ossObjectName\": \"my-function.zip\", \"ossAccessKeyId\": \"my-access-key-id\", \"ossAccessKeySecret\": \"my-access-key-secret\" } CreateFunction(serviceName=\"my-service\", functionName=\"my-function\", code=code, ...) customContainerConfig参数 参数 描述 image 指定要使用的容器镜像的名称。 command 指定容器启动时要执行的命令。 args 指定传递给容器启动命令的额外参数。 accelerationType 是否开启镜像加速。 webServerMode 镜像运行是否为Web Server模式。取值为true表示需要在容器镜像中实现Web Server来监听端口并处理请求。取值为false表示需要容器运行后主动退出进程，并且ExitCode需要为0。 GetFunction 重要参数 以下是GetFunction接口的参数列表，包括参数名、参数类型、是否必填和参数描述：\n参数名 参数类型 是否必填 参数描述 serviceName 字符串 是 函数所属的服务名称。 functionName 字符串 是 要获取的函数名称。 qualifier 字符串 否 函数版本或别名。如果未提供，则返回函数最新版本的信息。 CreateTrigger 重要参数 CreateTrigger函数是用于创建触发器的阿里云函数计算接口。通过该接口，您可以为函数关联不同类型的触发器，例如定时触发器、API网关触发器、对象存储（OSS）触发器等。\n以下是CreateTrigger函数的使用方式：\n首先，确保已经创建了需要触发的函数（使用CreateFunction函数创建）。\n构造CreateTrigger函数的请求参数，包括以下必填字段：\nserviceName：函数所属的服务名称。 functionName：要创建触发器的函数名称。 triggerName：触发器的名称，用于在函数中唯一标识触发器。 triggerType：触发器的类型，例如Timer（定时触发器）、OSS（对象存储触发器）、HTTP（HTTP触发器）等。 triggerConfig：触发器的配置信息，根据不同类型的触发器有所不同。 根据需要，可以设置CreateTrigger函数的其他可选参数，例如qualifier（函数版本或别名）等。\n调用CreateTrigger函数，传递请求参数，并获取返回结果。返回结果将包含触发器的相关信息，如触发器ID、触发器状态等。\n阿里云触发器类型 CreateTrigger函数支持多种触发器类型，您可以根据具体的需求选择适合的触发器类型。以下是一些常见的触发器类型及其简要介绍：\n定时触发器（Timer）：根据预设的时间表达式，周期性地触发函数的执行，例如每小时、每天、每周等。可以设置函数在特定时间点或时间间隔内触发。\n对象存储触发器（OSS）：当阿里云对象存储（OSS）上的文件发生变化时触发函数执行，例如文件上传、删除等事件。\nAPI网关触发器（HTTP）：将函数作为后端服务与阿里云API网关结合，实现基于HTTP请求的触发，例如接收API请求并进行处理。\n日志服务触发器（Log）：当日志服务中有新的日志产生时触发函数执行，例如实时处理日志、触发告警等。\nTable Store触发器（TableStore）：当阿里云Table Store中的数据发生变化时触发函数执行，例如数据更新、插入等操作。\n参考网址：阿里云触发器简介\nTimer触发器 以下是一个定时触发器配置信息的例子，包括时间表达式和其他可选参数：\n1 2 3 4 5 6 7 8 9 10 11 12 { \"serviceName\": \"my-service\", \"functionName\": \"my-function\", \"triggerName\": \"my-timer-trigger\", \"triggerType\": \"Timer\", \"triggerConfig\": { \"cronExpression\": \"0 0 9 * * ?\", // 每天上午9点触发 \"enable\": true, \"payload\": \"{\\\"key\\\": \\\"value\\\"}\" }, \"qualifier\": \"LATEST\" } 在上述例子中，配置信息的各个字段的含义如下：\nserviceName：函数所属的服务名称。 functionName：要关联定时触发器的函数名称。 triggerName：定时触发器的名称。 triggerType：指定为\"Timer\"，表示创建定时触发器。 triggerConfig：包含触发器的具体配置信息。 cronExpression：时间表达式，指定触发器的触发时间。在此例中，表示每天的上午9点触发。 enable：是否启用触发器。 payload：可选的触发器参数，作为函数调用时传递的输入参数。在此例中，使用JSON字符串作为示例。 qualifier：可选参数，指定函数版本或别名。在此例中，设置为\"LATEST\"，表示使用最新版本的函数。 HTTP触发器 以下是一个HTTP触发器的配置信息示例：\n1 2 3 4 5 6 7 8 9 10 11 12 { \"serviceName\": \"my-service\", \"functionName\": \"my-function\", \"triggerName\": \"my-http-trigger\", \"triggerType\": \"HTTP\", \"triggerConfig\": { \"authType\": \"ANONYMOUS\", \"methods\": [\"GET\", \"POST\"], \"url\": \"/my-endpoint\" }, \"qualifier\": \"LATEST\" } 在上述例子中，配置信息的各个字段的含义如下：\nserviceName：函数所属的服务名称。 functionName：要关联HTTP触发器的函数名称。 triggerName：HTTP触发器的名称。 triggerType：指定为\"HTTP\"，表示创建HTTP触发器。 triggerConfig：包含触发器的具体配置信息。 authType：HTTP触发器的认证类型，可以选择\"ANONYMOUS\"（匿名访问）或\"CUSTOM\"（自定义认证）。 methods：允许的HTTP请求方法列表。在此例中，允许GET和POST请求。 url：定义触发器的URL路径。在此例中，设置为\"/my-endpoint\"。 qualifier：可选参数，指定函数版本或别名。在此例中，设置为\"LATEST\"，表示使用最新版本的函数。 GetTrigger 重要参数 以下是GetTrigger接口的参数列表，包括参数名、参数类型、是否必填和参数描述：\n参数名 参数类型 是否必填 参数描述 serviceName 字符串 是 触发器所属的服务名称。 functionName 字符串 是 触发器所属的函数名称。 triggerName 字符串 是 要获取的触发器名称。 InvokeFunction 重要参数 以下是InvokeFunction接口的参数列表，包括参数名、参数类型、是否必填和参数描述：\n参数名 参数类型 是否必填 参数描述 serviceName 字符串 是 函数所属的服务名称。 functionName 字符串 是 要调用的函数名称。 payload 字符串 否 调用函数时传递的输入参数。可以是字符串形式的JSON数据。 qualifier 字符串 否 函数版本或别名。如果未提供，则使用函数的最新版本。 X-Fc-Invocation-Type 字符串 否 函数调用的方式。可选值包括 “Sync”（同步）和 “Async”（异步）。默认为 “Sync”。 X-Fc-Log-Type 字符串 否 函数调用的日志类型。可选值包括 “None”（无日志）和 “Tail”（返回完整日志）。默认为 “None”。 ",
  "wordCount" : "466",
  "inLanguage": "zh",
  "datePublished": "2023-10-20T12:47:12+08:00",
  "dateModified": "2023-10-20T12:47:12+08:00",
  "author":{
    "@type": "Person",
    "name": "WFUing"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://WFUing.github.io/posts/tech/architecture/serverless/alicloud-fc-api/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Waiting For You",
    "logo": {
      "@type": "ImageObject",
      "url": "https://WFUing.github.io/img/logo.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://WFUing.github.io/" accesskey="h" title="Waiting For You (Alt + H)">Waiting For You</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://WFUing.github.io/search" title="🔍 (Alt &#43; /)" accesskey=/>
                    <span>🔍</span>
                </a>
            </li>
            <li>
                <a href="https://WFUing.github.io/" title="HOME">
                    <span>HOME</span>
                </a>
            </li>
            <li>
                <a href="https://WFUing.github.io/posts" title="BLOGS">
                    <span>BLOGS</span>
                </a>
            </li>
            <li>
                <a href="https://WFUing.github.io/archives" title="ARCHIVE">
                    <span>ARCHIVE</span>
                </a>
            </li>
            <li>
                <a href="https://WFUing.github.io/tags" title="TAGS">
                    <span>TAGS</span>
                </a>
            </li>
            <li>
                <a href="https://WFUing.github.io/about" title="🙋🏻‍♂️">
                    <span>🙋🏻‍♂️</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://WFUing.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/posts/">Posts</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/posts/tech/">Technology</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/posts/tech/architecture/">Architecture</a>&nbsp;»&nbsp;<a href="https://WFUing.github.io/posts/tech/architecture/serverless/">Serverless</a></div>
    <h1 class="post-title">
      Alicloud Function Compute API
    </h1>
    <div class="post-meta">










创建:&amp;nbsp;&lt;span title=&#39;2023-10-20 12:47:12 &#43;0800 &#43;0800&#39;&gt;2023-10-20&lt;/span&gt;&amp;nbsp;|&amp;nbsp;更新:&amp;nbsp;2023-10-20&amp;nbsp;|&amp;nbsp;字数:&amp;nbsp;466字&amp;nbsp;|&amp;nbsp;时长: 3分钟&amp;nbsp;|&amp;nbsp;WFUing
        &nbsp;|&nbsp;标签: &nbsp;
        <ul class="post-tags-meta">
            <a href="https://WFUing.github.io/tags/serverless/">serverless</a>
            <a href="https://WFUing.github.io/tags/alicloud/">、alicloud</a>
        </ul>

        
        
        
        
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_page_pv">
            &nbsp;| 访问: <span id="busuanzi_value_page_pv"></span>
        </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#resources" aria-label="Resources">Resources</a></li>
                    <li>
                        <a href="#createservice" aria-label="CreateService">CreateService</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0" aria-label="重要参数">重要参数</a></li></ul>
                    </li>
                    <li>
                        <a href="#getservice" aria-label="GetService">GetService</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-1" aria-label="重要参数">重要参数</a></li></ul>
                    </li>
                    <li>
                        <a href="#createfunction" aria-label="CreateFunction">CreateFunction</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-2" aria-label="重要参数">重要参数</a><ul>
                            
                    <li>
                        <a href="#runtime%e5%8f%82%e6%95%b0" aria-label="runtime参数">runtime参数</a></li>
                    <li>
                        <a href="#code%e5%8f%82%e6%95%b0" aria-label="code参数">code参数</a></li>
                    <li>
                        <a href="#customcontainerconfig%e5%8f%82%e6%95%b0" aria-label="customContainerConfig参数">customContainerConfig参数</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#getfunction" aria-label="GetFunction">GetFunction</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-3" aria-label="重要参数">重要参数</a></li></ul>
                    </li>
                    <li>
                        <a href="#createtrigger" aria-label="CreateTrigger">CreateTrigger</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-4" aria-label="重要参数">重要参数</a></li>
                    <li>
                        <a href="#%e9%98%bf%e9%87%8c%e4%ba%91%e8%a7%a6%e5%8f%91%e5%99%a8%e7%b1%bb%e5%9e%8b" aria-label="阿里云触发器类型">阿里云触发器类型</a><ul>
                            
                    <li>
                        <a href="#timer%e8%a7%a6%e5%8f%91%e5%99%a8" aria-label="Timer触发器">Timer触发器</a></li>
                    <li>
                        <a href="#http%e8%a7%a6%e5%8f%91%e5%99%a8" aria-label="HTTP触发器">HTTP触发器</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#gettrigger" aria-label="GetTrigger">GetTrigger</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-5" aria-label="重要参数">重要参数</a></li></ul>
                    </li>
                    <li>
                        <a href="#invokefunction" aria-label="InvokeFunction">InvokeFunction</a><ul>
                            
                    <li>
                        <a href="#%e9%87%8d%e8%a6%81%e5%8f%82%e6%95%b0-6" aria-label="重要参数">重要参数</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h2 id="resources">Resources<a hidden class="anchor" aria-hidden="true" href="#resources">#</a></h2>
<ul>
<li><a href="https://www.npmjs.com/package/@alicloud/fc-open20210406/v/2.0.9">https://www.npmjs.com/package/@alicloud/fc-open20210406/v/2.0.9</a></li>
</ul>
<h2 id="createservice">CreateService<a hidden class="anchor" aria-hidden="true" href="#createservice">#</a></h2>
<h3 id="重要参数">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数">#</a></h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>服务的名称</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>description</td>
<td>服务的描述信息</td>
<td>string</td>
<td>否</td>
</tr>
<tr>
<td>internetAccess</td>
<td>是否允许公网访问</td>
<td>boolean</td>
<td>否</td>
</tr>
<tr>
<td>role</td>
<td>服务所使用的角色</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>vpcConfig</td>
<td>服务的VPC配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>logConfig</td>
<td>服务的日志配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>nasConfig</td>
<td>服务的NAS配置</td>
<td>dict</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><code>vpcConfig</code> 字典包含以下键值：</p>
<table>
<thead>
<tr>
<th>键名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>VpcId</td>
<td>VPC的ID</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>VSwitchIds</td>
<td>VSwitch的ID列表</td>
<td>list</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><code>logConfig</code> 字典包含以下键值：</p>
<table>
<thead>
<tr>
<th>键名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>Project</td>
<td>日志服务的项目名称</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>Logstore</td>
<td>日志服务的日志库名称</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><code>nasConfig</code> 字典包含以下键值：</p>
<table>
<thead>
<tr>
<th>键名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>MountPoints</td>
<td>NAS挂载点列表</td>
<td>list</td>
<td>是</td>
</tr>
<tr>
<td>UserId</td>
<td>用于访问NAS的用户ID</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>GroupId</td>
<td>用于访问NAS的用户组ID</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<h2 id="getservice">GetService<a hidden class="anchor" aria-hidden="true" href="#getservice">#</a></h2>
<h3 id="重要参数-1">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-1">#</a></h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>服务的名称</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<h2 id="createfunction">CreateFunction<a hidden class="anchor" aria-hidden="true" href="#createfunction">#</a></h2>
<h3 id="重要参数-2">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-2">#</a></h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>描述</th>
<th>类型</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>函数所属的服务名称</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>functionName</td>
<td>函数的名称</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>description</td>
<td>函数的描述信息</td>
<td>string</td>
<td>否</td>
</tr>
<tr>
<td>runtime</td>
<td>函数的运行环境</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>handler</td>
<td>函数的处理程序</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>initializer</td>
<td>函数的初始化程序</td>
<td>string</td>
<td>否</td>
</tr>
<tr>
<td>customContainerConfig</td>
<td>函数的自定义容器配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>caPort</td>
<td>函数容器的端口号（仅适用于自定义容器）</td>
<td>int</td>
<td>否</td>
</tr>
<tr>
<td>environmentVariables</td>
<td>函数的环境变量</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>vpcConfig</td>
<td>函数的VPC配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>logConfig</td>
<td>函数的日志配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>nasConfig</td>
<td>函数的NAS配置</td>
<td>dict</td>
<td>否</td>
</tr>
<tr>
<td>mountPoints</td>
<td>函数的NAS挂载点列表</td>
<td>list[dict]</td>
<td>否</td>
</tr>
<tr>
<td>code</td>
<td>函数的代码</td>
<td>dict</td>
<td>是</td>
</tr>
<tr>
<td>layers</td>
<td>函数的Layer列表</td>
<td>list[string]</td>
<td>否</td>
</tr>
<tr>
<td>caEnable</td>
<td>是否开启自定义容器功能（仅适用于自定义容器）</td>
<td>boolean</td>
<td>否</td>
</tr>
<tr>
<td>caFiles</td>
<td>自定义容器的CA证书文件列表（仅适用于自定义容器）</td>
<td>list[dict]</td>
<td>否</td>
</tr>
</tbody>
</table>
<h4 id="runtime参数">runtime参数<a hidden class="anchor" aria-hidden="true" href="#runtime参数">#</a></h4>
<p>runtime参数用于指定函数的运行环境。它决定了函数在何种语言和框架下执行。以下是runtime参数的常见取值及其对应的运行环境：</p>
<table>
<thead>
<tr>
<th>runtime取值</th>
<th>运行环境</th>
</tr>
</thead>
<tbody>
<tr>
<td>python2.7</td>
<td>Python 2.7</td>
</tr>
<tr>
<td>python3.6</td>
<td>Python 3.6</td>
</tr>
<tr>
<td>python3.7</td>
<td>Python 3.7</td>
</tr>
<tr>
<td>python3.8</td>
<td>Python 3.8</td>
</tr>
<tr>
<td>python3.9</td>
<td>Python 3.9</td>
</tr>
<tr>
<td>nodejs6</td>
<td>Node.js 6.x</td>
</tr>
<tr>
<td>nodejs8</td>
<td>Node.js 8.x</td>
</tr>
<tr>
<td>nodejs10</td>
<td>Node.js 10.x</td>
</tr>
<tr>
<td>nodejs12</td>
<td>Node.js 12.x</td>
</tr>
<tr>
<td>nodejs14</td>
<td>Node.js 14.x</td>
</tr>
<tr>
<td>nodejs16</td>
<td>Node.js 16.x</td>
</tr>
<tr>
<td>java8</td>
<td>Java 8</td>
</tr>
<tr>
<td>java11</td>
<td>Java 11</td>
</tr>
<tr>
<td>php7.2</td>
<td>PHP 7.2</td>
</tr>
<tr>
<td>dotnetcore2.1</td>
<td>.NET Core 2.1</td>
</tr>
<tr>
<td>dotnetcore3.1</td>
<td>.NET Core 3.1</td>
</tr>
<tr>
<td>custom</td>
<td>自定义运行时环境</td>
</tr>
</tbody>
</table>
<p>对于大多数常用的编程语言和框架，可以直接选择相应的runtime取值。</p>
<p>对于自定义运行时环境，可以选择&quot;custom&quot;作为runtime的取值，并提供自定义的运行时环境。自定义运行时环境需要提供相应的配置和执行文件，以便在函数中正确运行。</p>
<h4 id="code参数">code参数<a hidden class="anchor" aria-hidden="true" href="#code参数">#</a></h4>
<p>code参数用于指定函数的代码内容或代码存储位置。根据函数的具体需求和使用情况，code参数可以采用不同的设置方式。以下是对code参数的详细介绍：</p>
<ul>
<li>
<p>代码内容：可以直接将函数的代码内容作为字符串传递给code参数。这适用于函数代码比较简单且较短小的情况。将代码内容作为字符串传递给code参数时，通常需要指定runtime参数来指定函数的运行环境。</p>
</li>
<li>
<p>代码存储位置：可以将函数的代码存储在指定的位置，例如对象存储（如OSS）或代码仓库（如GitHub），然后通过code参数提供相关的配置信息来引用这些存储位置的代码。具体的设置方式会根据不同的云服务提供商和平台而有所不同，通常需要提供存储位置的信息（如存储桶名称、对象键或代码仓库地址等）。</p>
</li>
</ul>
<p>对于直接传递代码内容的方式，阿里云提供了使用Base64编码的zip包方式。您可以将函数代码打包成zip包，并使用Base64编码将其转换为字符串，然后将该字符串作为<code>zipFile</code>字段的值传递给code参数。</p>
<p>对于代码存储位置的情况，您需要提供相应的配置信息，例如存储位置的访问密钥、存储桶名称、对象键等。具体的设置方式会因云服务提供商和平台而有所不同。例如，在使用对象存储（如OSS）存储位置的情况下，可以提供如下配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">code</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;ossBucketName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-bucket&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;ossObjectName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-function.zip&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;ossAccessKeyId&#34;</span><span class="p">:</span> <span class="s2">&#34;my-access-key-id&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;ossAccessKeySecret&#34;</span><span class="p">:</span> <span class="s2">&#34;my-access-key-secret&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">CreateFunction</span><span class="p">(</span><span class="n">serviceName</span><span class="o">=</span><span class="s2">&#34;my-service&#34;</span><span class="p">,</span> <span class="n">functionName</span><span class="o">=</span><span class="s2">&#34;my-function&#34;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="customcontainerconfig参数">customContainerConfig参数<a hidden class="anchor" aria-hidden="true" href="#customcontainerconfig参数">#</a></h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>image</td>
<td>指定要使用的容器镜像的名称。</td>
</tr>
<tr>
<td>command</td>
<td>指定容器启动时要执行的命令。</td>
</tr>
<tr>
<td>args</td>
<td>指定传递给容器启动命令的额外参数。</td>
</tr>
<tr>
<td>accelerationType</td>
<td>是否开启镜像加速。</td>
</tr>
<tr>
<td>webServerMode</td>
<td>镜像运行是否为Web Server模式。取值为true表示需要在容器镜像中实现Web Server来监听端口并处理请求。取值为false表示需要容器运行后主动退出进程，并且ExitCode需要为0。</td>
</tr>
</tbody>
</table>
<h2 id="getfunction">GetFunction<a hidden class="anchor" aria-hidden="true" href="#getfunction">#</a></h2>
<h3 id="重要参数-3">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-3">#</a></h3>
<p>以下是GetFunction接口的参数列表，包括参数名、参数类型、是否必填和参数描述：</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>字符串</td>
<td>是</td>
<td>函数所属的服务名称。</td>
</tr>
<tr>
<td>functionName</td>
<td>字符串</td>
<td>是</td>
<td>要获取的函数名称。</td>
</tr>
<tr>
<td>qualifier</td>
<td>字符串</td>
<td>否</td>
<td>函数版本或别名。如果未提供，则返回函数最新版本的信息。</td>
</tr>
</tbody>
</table>
<h2 id="createtrigger">CreateTrigger<a hidden class="anchor" aria-hidden="true" href="#createtrigger">#</a></h2>
<h3 id="重要参数-4">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-4">#</a></h3>
<p>CreateTrigger函数是用于创建触发器的阿里云函数计算接口。通过该接口，您可以为函数关联不同类型的触发器，例如定时触发器、API网关触发器、对象存储（OSS）触发器等。</p>
<p>以下是CreateTrigger函数的使用方式：</p>
<ol>
<li>
<p>首先，确保已经创建了需要触发的函数（使用<code>CreateFunction</code>函数创建）。</p>
</li>
<li>
<p>构造<code>CreateTrigger</code>函数的请求参数，包括以下必填字段：</p>
<ul>
<li><code>serviceName</code>：函数所属的服务名称。</li>
<li><code>functionName</code>：要创建触发器的函数名称。</li>
<li><code>triggerName</code>：触发器的名称，用于在函数中唯一标识触发器。</li>
<li><code>triggerType</code>：触发器的类型，例如<code>Timer</code>（定时触发器）、<code>OSS</code>（对象存储触发器）、<code>HTTP</code>（HTTP触发器）等。</li>
<li><code>triggerConfig</code>：触发器的配置信息，根据不同类型的触发器有所不同。</li>
</ul>
</li>
<li>
<p>根据需要，可以设置CreateTrigger函数的其他可选参数，例如<code>qualifier</code>（函数版本或别名）等。</p>
</li>
<li>
<p>调用CreateTrigger函数，传递请求参数，并获取返回结果。返回结果将包含触发器的相关信息，如触发器ID、触发器状态等。</p>
</li>
</ol>
<h3 id="阿里云触发器类型">阿里云触发器类型<a hidden class="anchor" aria-hidden="true" href="#阿里云触发器类型">#</a></h3>
<p>CreateTrigger函数支持多种触发器类型，您可以根据具体的需求选择适合的触发器类型。以下是一些常见的触发器类型及其简要介绍：</p>
<ol>
<li>
<p>定时触发器（Timer）：根据预设的时间表达式，周期性地触发函数的执行，例如每小时、每天、每周等。可以设置函数在特定时间点或时间间隔内触发。</p>
</li>
<li>
<p>对象存储触发器（OSS）：当阿里云对象存储（OSS）上的文件发生变化时触发函数执行，例如文件上传、删除等事件。</p>
</li>
<li>
<p>API网关触发器（HTTP）：将函数作为后端服务与阿里云API网关结合，实现基于HTTP请求的触发，例如接收API请求并进行处理。</p>
</li>
<li>
<p>日志服务触发器（Log）：当日志服务中有新的日志产生时触发函数执行，例如实时处理日志、触发告警等。</p>
</li>
<li>
<p>Table Store触发器（TableStore）：当阿里云Table Store中的数据发生变化时触发函数执行，例如数据更新、插入等操作。</p>
</li>
</ol>
<p>参考网址：<a href="https://help.aliyun.com/document_detail/53102.html?spm=a2c4g.146104.0.0.3176199eLgjplT">阿里云触发器简介</a></p>
<h4 id="timer触发器">Timer触发器<a hidden class="anchor" aria-hidden="true" href="#timer触发器">#</a></h4>
<p>以下是一个定时触发器配置信息的例子，包括时间表达式和其他可选参数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;serviceName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-service&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;functionName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-function&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-timer-trigger&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerType&#34;</span><span class="p">:</span> <span class="s2">&#34;Timer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;cronExpression&#34;</span><span class="p">:</span> <span class="s2">&#34;0 0 9 * * ?&#34;</span><span class="p">,</span>  <span class="c1">// 每天上午9点触发
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;enable&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload&#34;</span><span class="p">:</span> <span class="s2">&#34;{\&#34;key\&#34;: \&#34;value\&#34;}&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;qualifier&#34;</span><span class="p">:</span> <span class="s2">&#34;LATEST&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在上述例子中，配置信息的各个字段的含义如下：</p>
<ul>
<li><code>serviceName</code>：函数所属的服务名称。</li>
<li><code>functionName</code>：要关联定时触发器的函数名称。</li>
<li><code>triggerName</code>：定时触发器的名称。</li>
<li><code>triggerType</code>：指定为&quot;Timer&quot;，表示创建定时触发器。</li>
<li><code>triggerConfig</code>：包含触发器的具体配置信息。
<ul>
<li><code>cronExpression</code>：时间表达式，指定触发器的触发时间。在此例中，表示每天的上午9点触发。</li>
<li><code>enable</code>：是否启用触发器。</li>
<li><code>payload</code>：可选的触发器参数，作为函数调用时传递的输入参数。在此例中，使用JSON字符串作为示例。</li>
</ul>
</li>
<li><code>qualifier</code>：可选参数，指定函数版本或别名。在此例中，设置为&quot;LATEST&quot;，表示使用最新版本的函数。</li>
</ul>
<h4 id="http触发器">HTTP触发器<a hidden class="anchor" aria-hidden="true" href="#http触发器">#</a></h4>
<p>以下是一个HTTP触发器的配置信息示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;serviceName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-service&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;functionName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-function&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerName&#34;</span><span class="p">:</span> <span class="s2">&#34;my-http-trigger&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerType&#34;</span><span class="p">:</span> <span class="s2">&#34;HTTP&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;triggerConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;authType&#34;</span><span class="p">:</span> <span class="s2">&#34;ANONYMOUS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;methods&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span> <span class="s2">&#34;POST&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;/my-endpoint&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;qualifier&#34;</span><span class="p">:</span> <span class="s2">&#34;LATEST&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在上述例子中，配置信息的各个字段的含义如下：</p>
<ul>
<li><code>serviceName</code>：函数所属的服务名称。</li>
<li><code>functionName</code>：要关联HTTP触发器的函数名称。</li>
<li><code>triggerName</code>：HTTP触发器的名称。</li>
<li><code>triggerType</code>：指定为&quot;HTTP&quot;，表示创建HTTP触发器。</li>
<li><code>triggerConfig</code>：包含触发器的具体配置信息。
<ul>
<li><code>authType</code>：HTTP触发器的认证类型，可以选择&quot;ANONYMOUS&quot;（匿名访问）或&quot;CUSTOM&quot;（自定义认证）。</li>
<li><code>methods</code>：允许的HTTP请求方法列表。在此例中，允许GET和POST请求。</li>
<li><code>url</code>：定义触发器的URL路径。在此例中，设置为&quot;/my-endpoint&quot;。</li>
</ul>
</li>
<li><code>qualifier</code>：可选参数，指定函数版本或别名。在此例中，设置为&quot;LATEST&quot;，表示使用最新版本的函数。</li>
</ul>
<h2 id="gettrigger">GetTrigger<a hidden class="anchor" aria-hidden="true" href="#gettrigger">#</a></h2>
<h3 id="重要参数-5">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-5">#</a></h3>
<p>以下是GetTrigger接口的参数列表，包括参数名、参数类型、是否必填和参数描述：</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>字符串</td>
<td>是</td>
<td>触发器所属的服务名称。</td>
</tr>
<tr>
<td>functionName</td>
<td>字符串</td>
<td>是</td>
<td>触发器所属的函数名称。</td>
</tr>
<tr>
<td>triggerName</td>
<td>字符串</td>
<td>是</td>
<td>要获取的触发器名称。</td>
</tr>
</tbody>
</table>
<h2 id="invokefunction">InvokeFunction<a hidden class="anchor" aria-hidden="true" href="#invokefunction">#</a></h2>
<h3 id="重要参数-6">重要参数<a hidden class="anchor" aria-hidden="true" href="#重要参数-6">#</a></h3>
<p>以下是InvokeFunction接口的参数列表，包括参数名、参数类型、是否必填和参数描述：</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必填</th>
<th>参数描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>serviceName</td>
<td>字符串</td>
<td>是</td>
<td>函数所属的服务名称。</td>
</tr>
<tr>
<td>functionName</td>
<td>字符串</td>
<td>是</td>
<td>要调用的函数名称。</td>
</tr>
<tr>
<td>payload</td>
<td>字符串</td>
<td>否</td>
<td>调用函数时传递的输入参数。可以是字符串形式的JSON数据。</td>
</tr>
<tr>
<td>qualifier</td>
<td>字符串</td>
<td>否</td>
<td>函数版本或别名。如果未提供，则使用函数的最新版本。</td>
</tr>
<tr>
<td>X-Fc-Invocation-Type</td>
<td>字符串</td>
<td>否</td>
<td>函数调用的方式。可选值包括 &ldquo;Sync&rdquo;（同步）和 &ldquo;Async&rdquo;（异步）。默认为 &ldquo;Sync&rdquo;。</td>
</tr>
<tr>
<td>X-Fc-Log-Type</td>
<td>字符串</td>
<td>否</td>
<td>函数调用的日志类型。可选值包括 &ldquo;None&rdquo;（无日志）和 &ldquo;Tail&rdquo;（返回完整日志）。默认为 &ldquo;None&rdquo;。</td>
</tr>
</tbody>
</table>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://WFUing.github.io/tags/serverless/">serverless</a></li>
      <li><a href="https://WFUing.github.io/tags/alicloud/">alicloud</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://WFUing.github.io/posts/tech/architecture/serverless/tencentyun-serverless-api/">
    <span class="title">« 上一页</span>
    <br>
    <span>Tencentyun Serverless Api</span>
  </a>
  <a class="next" href="https://WFUing.github.io/posts/tech/architecture/git/git-principle/">
    <span class="title">下一页 »</span>
    <br>
    <span>Git Principle</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on twitter"
        href="https://twitter.com/intent/tweet/?text=Alicloud%20Function%20Compute%20API&amp;url=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f&amp;hashtags=serverless%2calicloud">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f&amp;title=Alicloud%20Function%20Compute%20API&amp;summary=Alicloud%20Function%20Compute%20API&amp;source=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f&title=Alicloud%20Function%20Compute%20API">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on whatsapp"
        href="https://api.whatsapp.com/send?text=Alicloud%20Function%20Compute%20API%20-%20https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on telegram"
        href="https://telegram.me/share/url?text=Alicloud%20Function%20Compute%20API&amp;url=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Alicloud Function Compute API on ycombinator"
        href="https://news.ycombinator.com/submitlink?t=Alicloud%20Function%20Compute%20API&u=https%3a%2f%2fWFUing.github.io%2fposts%2ftech%2farchitecture%2fserverless%2falicloud-fc-api%2f">
        <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
            <path
                d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
        </svg>
    </a>
</div>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">💬评论</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.staticfile.org/twikoo/1.4.11/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://twikoo-api-three-gamma.vercel.app/",  
            el: "#tcomment",
            lang: 'zh-CN',
            region: 'ap-guangzhou',  
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        });
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://WFUing.github.io/">Waiting For You</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
